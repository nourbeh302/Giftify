{"@t":"2024-08-31T06:51:52.0271530Z","@mt":"Handling request: {Method} {Path}","@tr":"22d65262c01638bd7faae3ff318cd186","@sp":"a7c8ea041782639e","Method":"GET","Path":"/api/v1/AAtest","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"40000108-0005-ff00-b63f-84710c7967bb","RequestPath":"/api/v1/AAtest","CorrelationId":"40000108-0005-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T06:51:53.1941540Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["1136.1540"],"@l":"Error","@x":"System.Net.Http.HttpRequestException: Response status code does not indicate success: 401 (Unauthorized).\r\n   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()\r\n   at Infrastructure.Payment.PaymentOrderManager.CreateAsync(PaymentAuthToken token) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentOrderManager.cs:line 36\r\n   at Infrastructure.Payment.PaymentProvider.CreateAsync() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentProvider.cs:line 24\r\n   at WebApi.Endpoints.Test.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Test.cs:line 12\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","@tr":"22d65262c01638bd7faae3ff318cd186","@sp":"a7c8ea041782639e","RequestMethod":"GET","RequestPath":"/api/v1/AAtest","StatusCode":500,"Elapsed":1136.154,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"40000108-0005-ff00-b63f-84710c7967bb","RequestId":"40000108-0005-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T06:51:53.2568781Z","@mt":"Request failed: {Method} {Path} in {ElapsedMilliseconds} ms","@l":"Error","@x":"System.Net.Http.HttpRequestException: Response status code does not indicate success: 401 (Unauthorized).\r\n   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()\r\n   at Infrastructure.Payment.PaymentOrderManager.CreateAsync(PaymentAuthToken token) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentOrderManager.cs:line 36\r\n   at Infrastructure.Payment.PaymentProvider.CreateAsync() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentProvider.cs:line 24\r\n   at WebApi.Endpoints.Test.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Test.cs:line 12\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at WebApi.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Middlewares\\RequestLoggingMiddleware.cs:line 23","@tr":"22d65262c01638bd7faae3ff318cd186","@sp":"a7c8ea041782639e","Method":"GET","Path":"/api/v1/AAtest","ElapsedMilliseconds":1234,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"40000108-0005-ff00-b63f-84710c7967bb","RequestPath":"/api/v1/AAtest","CorrelationId":"40000108-0005-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T06:51:53.2878944Z","@mt":"An unhandled exception has occurred while executing the request.","@l":"Error","@x":"System.Net.Http.HttpRequestException: Response status code does not indicate success: 401 (Unauthorized).\r\n   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()\r\n   at Infrastructure.Payment.PaymentOrderManager.CreateAsync(PaymentAuthToken token) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentOrderManager.cs:line 36\r\n   at Infrastructure.Payment.PaymentProvider.CreateAsync() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentProvider.cs:line 24\r\n   at WebApi.Endpoints.Test.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Test.cs:line 12\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at WebApi.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Middlewares\\RequestLoggingMiddleware.cs:line 23\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","@tr":"22d65262c01638bd7faae3ff318cd186","@sp":"a7c8ea041782639e","EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"40000108-0005-ff00-b63f-84710c7967bb","RequestPath":"/api/v1/AAtest"}
{"@t":"2024-08-31T06:52:35.0744639Z","@mt":"Handling request: {Method} {Path}","@tr":"bd9abf642d80de14bfeaee1d72944263","@sp":"0234eecb61042304","Method":"GET","Path":"/api/v1/AAtest","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"4000010a-0005-ff00-b63f-84710c7967bb","RequestPath":"/api/v1/AAtest","CorrelationId":"4000010a-0005-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T06:52:35.4919903Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["417.3286"],"@l":"Error","@x":"System.Net.Http.HttpRequestException: Response status code does not indicate success: 401 (Unauthorized).\r\n   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()\r\n   at Infrastructure.Payment.PaymentOrderManager.CreateAsync(PaymentAuthToken token) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentOrderManager.cs:line 36\r\n   at Infrastructure.Payment.PaymentProvider.CreateAsync() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentProvider.cs:line 24\r\n   at WebApi.Endpoints.Test.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Test.cs:line 12\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","@tr":"bd9abf642d80de14bfeaee1d72944263","@sp":"0234eecb61042304","RequestMethod":"GET","RequestPath":"/api/v1/AAtest","StatusCode":500,"Elapsed":417.3286,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"4000010a-0005-ff00-b63f-84710c7967bb","RequestId":"4000010a-0005-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T06:52:35.5143667Z","@mt":"Request failed: {Method} {Path} in {ElapsedMilliseconds} ms","@l":"Error","@x":"System.Net.Http.HttpRequestException: Response status code does not indicate success: 401 (Unauthorized).\r\n   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()\r\n   at Infrastructure.Payment.PaymentOrderManager.CreateAsync(PaymentAuthToken token) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentOrderManager.cs:line 36\r\n   at Infrastructure.Payment.PaymentProvider.CreateAsync() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentProvider.cs:line 24\r\n   at WebApi.Endpoints.Test.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Test.cs:line 12\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at WebApi.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Middlewares\\RequestLoggingMiddleware.cs:line 23","@tr":"bd9abf642d80de14bfeaee1d72944263","@sp":"0234eecb61042304","Method":"GET","Path":"/api/v1/AAtest","ElapsedMilliseconds":439,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"4000010a-0005-ff00-b63f-84710c7967bb","RequestPath":"/api/v1/AAtest","CorrelationId":"4000010a-0005-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T06:52:35.5384223Z","@mt":"An unhandled exception has occurred while executing the request.","@l":"Error","@x":"System.Net.Http.HttpRequestException: Response status code does not indicate success: 401 (Unauthorized).\r\n   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()\r\n   at Infrastructure.Payment.PaymentOrderManager.CreateAsync(PaymentAuthToken token) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentOrderManager.cs:line 36\r\n   at Infrastructure.Payment.PaymentProvider.CreateAsync() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentProvider.cs:line 24\r\n   at WebApi.Endpoints.Test.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Test.cs:line 12\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at WebApi.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Middlewares\\RequestLoggingMiddleware.cs:line 23\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","@tr":"bd9abf642d80de14bfeaee1d72944263","@sp":"0234eecb61042304","EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"4000010a-0005-ff00-b63f-84710c7967bb","RequestPath":"/api/v1/AAtest"}
{"@t":"2024-08-31T06:52:52.9676070Z","@mt":"Handling request: {Method} {Path}","@tr":"a8dc3581440076addb774446bbdd4c9f","@sp":"d45fa4a26e81afcb","Method":"GET","Path":"/api/v1/AAtest","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"40000002-0005-fa00-b63f-84710c7967bb","RequestPath":"/api/v1/AAtest","CorrelationId":"40000002-0005-fa00-b63f-84710c7967bb"}
{"@t":"2024-08-31T06:53:02.6930238Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["9696.9628"],"@l":"Error","@x":"System.Net.Http.HttpRequestException: Response status code does not indicate success: 401 (Unauthorized).\r\n   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()\r\n   at Infrastructure.Payment.PaymentOrderManager.CreateAsync(PaymentAuthToken token) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentOrderManager.cs:line 36\r\n   at Infrastructure.Payment.PaymentProvider.CreateAsync() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentProvider.cs:line 18\r\n   at WebApi.Endpoints.Test.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Test.cs:line 12\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","@tr":"a8dc3581440076addb774446bbdd4c9f","@sp":"d45fa4a26e81afcb","RequestMethod":"GET","RequestPath":"/api/v1/AAtest","StatusCode":500,"Elapsed":9696.9628,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"40000002-0005-fa00-b63f-84710c7967bb","RequestId":"40000002-0005-fa00-b63f-84710c7967bb"}
{"@t":"2024-08-31T06:53:02.7340811Z","@mt":"Request failed: {Method} {Path} in {ElapsedMilliseconds} ms","@l":"Error","@x":"System.Net.Http.HttpRequestException: Response status code does not indicate success: 401 (Unauthorized).\r\n   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()\r\n   at Infrastructure.Payment.PaymentOrderManager.CreateAsync(PaymentAuthToken token) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentOrderManager.cs:line 36\r\n   at Infrastructure.Payment.PaymentProvider.CreateAsync() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentProvider.cs:line 18\r\n   at WebApi.Endpoints.Test.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Test.cs:line 12\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at WebApi.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Middlewares\\RequestLoggingMiddleware.cs:line 23","@tr":"a8dc3581440076addb774446bbdd4c9f","@sp":"d45fa4a26e81afcb","Method":"GET","Path":"/api/v1/AAtest","ElapsedMilliseconds":9769,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"40000002-0005-fa00-b63f-84710c7967bb","RequestPath":"/api/v1/AAtest","CorrelationId":"40000002-0005-fa00-b63f-84710c7967bb"}
{"@t":"2024-08-31T06:53:02.7597546Z","@mt":"An unhandled exception has occurred while executing the request.","@l":"Error","@x":"System.Net.Http.HttpRequestException: Response status code does not indicate success: 401 (Unauthorized).\r\n   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()\r\n   at Infrastructure.Payment.PaymentOrderManager.CreateAsync(PaymentAuthToken token) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentOrderManager.cs:line 36\r\n   at Infrastructure.Payment.PaymentProvider.CreateAsync() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentProvider.cs:line 18\r\n   at WebApi.Endpoints.Test.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Test.cs:line 12\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at WebApi.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Middlewares\\RequestLoggingMiddleware.cs:line 23\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","@tr":"a8dc3581440076addb774446bbdd4c9f","@sp":"d45fa4a26e81afcb","EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"40000002-0005-fa00-b63f-84710c7967bb","RequestPath":"/api/v1/AAtest"}
{"@t":"2024-08-31T06:53:27.7994092Z","@mt":"Handling request: {Method} {Path}","@tr":"0dc38febfea2c41f88e43e6c5858de97","@sp":"14440d642ed229df","Method":"GET","Path":"/api/v1/AAtest","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000e2-0001-fb00-b63f-84710c7967bb","RequestPath":"/api/v1/AAtest","CorrelationId":"400000e2-0001-fb00-b63f-84710c7967bb"}
{"@t":"2024-08-31T06:53:32.0790413Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["4247.6147"],"@l":"Error","@x":"System.InvalidOperationException: The requested operation requires an element of type 'String', but the target element has type 'Number'.\r\n   at System.Text.Json.ThrowHelper.ThrowJsonElementWrongTypeException(JsonTokenType expectedType, JsonTokenType actualType)\r\n   at System.Text.Json.JsonDocument.GetString(Int32 index, JsonTokenType expectedType)\r\n   at Infrastructure.Payment.PaymentOrderManager.CreateAsync(PaymentAuthToken token) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentOrderManager.cs:line 43\r\n   at Infrastructure.Payment.PaymentProvider.CreateAsync() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentProvider.cs:line 18\r\n   at WebApi.Endpoints.Test.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Test.cs:line 12\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","@tr":"0dc38febfea2c41f88e43e6c5858de97","@sp":"14440d642ed229df","RequestMethod":"GET","RequestPath":"/api/v1/AAtest","StatusCode":500,"Elapsed":4247.6147,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"400000e2-0001-fb00-b63f-84710c7967bb","RequestId":"400000e2-0001-fb00-b63f-84710c7967bb"}
{"@t":"2024-08-31T06:53:32.1254304Z","@mt":"Request failed: {Method} {Path} in {ElapsedMilliseconds} ms","@l":"Error","@x":"System.InvalidOperationException: The requested operation requires an element of type 'String', but the target element has type 'Number'.\r\n   at System.Text.Json.ThrowHelper.ThrowJsonElementWrongTypeException(JsonTokenType expectedType, JsonTokenType actualType)\r\n   at System.Text.Json.JsonDocument.GetString(Int32 index, JsonTokenType expectedType)\r\n   at Infrastructure.Payment.PaymentOrderManager.CreateAsync(PaymentAuthToken token) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentOrderManager.cs:line 43\r\n   at Infrastructure.Payment.PaymentProvider.CreateAsync() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentProvider.cs:line 18\r\n   at WebApi.Endpoints.Test.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Test.cs:line 12\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at WebApi.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Middlewares\\RequestLoggingMiddleware.cs:line 23","@tr":"0dc38febfea2c41f88e43e6c5858de97","@sp":"14440d642ed229df","Method":"GET","Path":"/api/v1/AAtest","ElapsedMilliseconds":4329,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000e2-0001-fb00-b63f-84710c7967bb","RequestPath":"/api/v1/AAtest","CorrelationId":"400000e2-0001-fb00-b63f-84710c7967bb"}
{"@t":"2024-08-31T06:53:32.1521038Z","@mt":"An unhandled exception has occurred while executing the request.","@l":"Error","@x":"System.InvalidOperationException: The requested operation requires an element of type 'String', but the target element has type 'Number'.\r\n   at System.Text.Json.ThrowHelper.ThrowJsonElementWrongTypeException(JsonTokenType expectedType, JsonTokenType actualType)\r\n   at System.Text.Json.JsonDocument.GetString(Int32 index, JsonTokenType expectedType)\r\n   at Infrastructure.Payment.PaymentOrderManager.CreateAsync(PaymentAuthToken token) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentOrderManager.cs:line 43\r\n   at Infrastructure.Payment.PaymentProvider.CreateAsync() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentProvider.cs:line 18\r\n   at WebApi.Endpoints.Test.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Test.cs:line 12\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at WebApi.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Middlewares\\RequestLoggingMiddleware.cs:line 23\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","@tr":"0dc38febfea2c41f88e43e6c5858de97","@sp":"14440d642ed229df","EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"400000e2-0001-fb00-b63f-84710c7967bb","RequestPath":"/api/v1/AAtest"}
{"@t":"2024-08-31T06:54:10.2688163Z","@mt":"Handling request: {Method} {Path}","@tr":"0e02e4946ca8ec96007512c73248ba3d","@sp":"24ef1e0335f7be5c","Method":"GET","Path":"/api/v1/AAtest","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000a7-0002-fa00-b63f-84710c7967bb","RequestPath":"/api/v1/AAtest","CorrelationId":"400000a7-0002-fa00-b63f-84710c7967bb"}
{"@t":"2024-08-31T06:54:16.2479871Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["5947.6401"],"@l":"Error","@x":"System.InvalidOperationException: The requested operation requires an element of type 'String', but the target element has type 'Number'.\r\n   at System.Text.Json.ThrowHelper.ThrowJsonElementWrongTypeException(JsonTokenType expectedType, JsonTokenType actualType)\r\n   at System.Text.Json.JsonDocument.GetString(Int32 index, JsonTokenType expectedType)\r\n   at Infrastructure.Payment.PaymentOrderManager.CreateAsync(PaymentAuthToken token) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentOrderManager.cs:line 43\r\n   at Infrastructure.Payment.PaymentProvider.CreateAsync() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentProvider.cs:line 18\r\n   at WebApi.Endpoints.Test.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Test.cs:line 12\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","@tr":"0e02e4946ca8ec96007512c73248ba3d","@sp":"24ef1e0335f7be5c","RequestMethod":"GET","RequestPath":"/api/v1/AAtest","StatusCode":500,"Elapsed":5947.6401,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"400000a7-0002-fa00-b63f-84710c7967bb","RequestId":"400000a7-0002-fa00-b63f-84710c7967bb"}
{"@t":"2024-08-31T06:54:16.2952519Z","@mt":"Request failed: {Method} {Path} in {ElapsedMilliseconds} ms","@l":"Error","@x":"System.InvalidOperationException: The requested operation requires an element of type 'String', but the target element has type 'Number'.\r\n   at System.Text.Json.ThrowHelper.ThrowJsonElementWrongTypeException(JsonTokenType expectedType, JsonTokenType actualType)\r\n   at System.Text.Json.JsonDocument.GetString(Int32 index, JsonTokenType expectedType)\r\n   at Infrastructure.Payment.PaymentOrderManager.CreateAsync(PaymentAuthToken token) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentOrderManager.cs:line 43\r\n   at Infrastructure.Payment.PaymentProvider.CreateAsync() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentProvider.cs:line 18\r\n   at WebApi.Endpoints.Test.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Test.cs:line 12\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at WebApi.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Middlewares\\RequestLoggingMiddleware.cs:line 23","@tr":"0e02e4946ca8ec96007512c73248ba3d","@sp":"24ef1e0335f7be5c","Method":"GET","Path":"/api/v1/AAtest","ElapsedMilliseconds":6029,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000a7-0002-fa00-b63f-84710c7967bb","RequestPath":"/api/v1/AAtest","CorrelationId":"400000a7-0002-fa00-b63f-84710c7967bb"}
{"@t":"2024-08-31T06:54:16.3213716Z","@mt":"An unhandled exception has occurred while executing the request.","@l":"Error","@x":"System.InvalidOperationException: The requested operation requires an element of type 'String', but the target element has type 'Number'.\r\n   at System.Text.Json.ThrowHelper.ThrowJsonElementWrongTypeException(JsonTokenType expectedType, JsonTokenType actualType)\r\n   at System.Text.Json.JsonDocument.GetString(Int32 index, JsonTokenType expectedType)\r\n   at Infrastructure.Payment.PaymentOrderManager.CreateAsync(PaymentAuthToken token) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentOrderManager.cs:line 43\r\n   at Infrastructure.Payment.PaymentProvider.CreateAsync() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentProvider.cs:line 18\r\n   at WebApi.Endpoints.Test.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Test.cs:line 12\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at WebApi.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Middlewares\\RequestLoggingMiddleware.cs:line 23\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","@tr":"0e02e4946ca8ec96007512c73248ba3d","@sp":"24ef1e0335f7be5c","EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"400000a7-0002-fa00-b63f-84710c7967bb","RequestPath":"/api/v1/AAtest"}
{"@t":"2024-08-31T06:55:06.1225060Z","@mt":"Handling request: {Method} {Path}","@tr":"ce4e02ad688f6abd8aec4b65f3e2ccc9","@sp":"22d63e376e3523f0","Method":"GET","Path":"/api/v1/AAtest","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000cd-000c-fc00-b63f-84710c7967bb","RequestPath":"/api/v1/AAtest","CorrelationId":"400000cd-000c-fc00-b63f-84710c7967bb"}
{"@t":"2024-08-31T06:55:43.5193979Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["37369.3605"],"@l":"Error","@x":"System.InvalidOperationException: The requested operation requires an element of type 'String', but the target element has type 'Number'.\r\n   at System.Text.Json.ThrowHelper.ThrowJsonElementWrongTypeException(JsonTokenType expectedType, JsonTokenType actualType)\r\n   at System.Text.Json.JsonDocument.GetString(Int32 index, JsonTokenType expectedType)\r\n   at Infrastructure.Payment.PaymentOrderManager.CreateAsync(PaymentAuthToken token) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentOrderManager.cs:line 44\r\n   at Infrastructure.Payment.PaymentProvider.CreateAsync() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentProvider.cs:line 18\r\n   at WebApi.Endpoints.Test.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Test.cs:line 12\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","@tr":"ce4e02ad688f6abd8aec4b65f3e2ccc9","@sp":"22d63e376e3523f0","RequestMethod":"GET","RequestPath":"/api/v1/AAtest","StatusCode":500,"Elapsed":37369.3605,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"400000cd-000c-fc00-b63f-84710c7967bb","RequestId":"400000cd-000c-fc00-b63f-84710c7967bb"}
{"@t":"2024-08-31T06:55:43.5628659Z","@mt":"Request failed: {Method} {Path} in {ElapsedMilliseconds} ms","@l":"Error","@x":"System.InvalidOperationException: The requested operation requires an element of type 'String', but the target element has type 'Number'.\r\n   at System.Text.Json.ThrowHelper.ThrowJsonElementWrongTypeException(JsonTokenType expectedType, JsonTokenType actualType)\r\n   at System.Text.Json.JsonDocument.GetString(Int32 index, JsonTokenType expectedType)\r\n   at Infrastructure.Payment.PaymentOrderManager.CreateAsync(PaymentAuthToken token) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentOrderManager.cs:line 44\r\n   at Infrastructure.Payment.PaymentProvider.CreateAsync() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentProvider.cs:line 18\r\n   at WebApi.Endpoints.Test.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Test.cs:line 12\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at WebApi.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Middlewares\\RequestLoggingMiddleware.cs:line 23","@tr":"ce4e02ad688f6abd8aec4b65f3e2ccc9","@sp":"22d63e376e3523f0","Method":"GET","Path":"/api/v1/AAtest","ElapsedMilliseconds":37444,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000cd-000c-fc00-b63f-84710c7967bb","RequestPath":"/api/v1/AAtest","CorrelationId":"400000cd-000c-fc00-b63f-84710c7967bb"}
{"@t":"2024-08-31T06:55:43.5884407Z","@mt":"An unhandled exception has occurred while executing the request.","@l":"Error","@x":"System.InvalidOperationException: The requested operation requires an element of type 'String', but the target element has type 'Number'.\r\n   at System.Text.Json.ThrowHelper.ThrowJsonElementWrongTypeException(JsonTokenType expectedType, JsonTokenType actualType)\r\n   at System.Text.Json.JsonDocument.GetString(Int32 index, JsonTokenType expectedType)\r\n   at Infrastructure.Payment.PaymentOrderManager.CreateAsync(PaymentAuthToken token) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentOrderManager.cs:line 44\r\n   at Infrastructure.Payment.PaymentProvider.CreateAsync() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentProvider.cs:line 18\r\n   at WebApi.Endpoints.Test.<>c.<<MapEndpoint>b__0_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Test.cs:line 12\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at WebApi.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Middlewares\\RequestLoggingMiddleware.cs:line 23\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","@tr":"ce4e02ad688f6abd8aec4b65f3e2ccc9","@sp":"22d63e376e3523f0","EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"400000cd-000c-fc00-b63f-84710c7967bb","RequestPath":"/api/v1/AAtest"}
{"@t":"2024-08-31T06:56:32.3169545Z","@mt":"Handling request: {Method} {Path}","@tr":"13c9b656f9863d136c974bcc299336b0","@sp":"2a4bd9427c8e34ec","Method":"GET","Path":"/api/v1/AAtest","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000db-0005-fe00-b63f-84710c7967bb","RequestPath":"/api/v1/AAtest","CorrelationId":"400000db-0005-fe00-b63f-84710c7967bb"}
{"@t":"2024-08-31T06:56:59.4187468Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["27071.4312"],"@tr":"13c9b656f9863d136c974bcc299336b0","@sp":"2a4bd9427c8e34ec","RequestMethod":"GET","RequestPath":"/api/v1/AAtest","StatusCode":200,"Elapsed":27071.4312,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"400000db-0005-fe00-b63f-84710c7967bb","RequestId":"400000db-0005-fe00-b63f-84710c7967bb"}
{"@t":"2024-08-31T06:56:59.4225315Z","@mt":"Request succeeded: {Method} {Path} in {ElapsedMilliseconds} ms","@tr":"13c9b656f9863d136c974bcc299336b0","@sp":"2a4bd9427c8e34ec","Method":"GET","Path":"/api/v1/AAtest","ElapsedMilliseconds":27108,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000db-0005-fe00-b63f-84710c7967bb","RequestPath":"/api/v1/AAtest","CorrelationId":"400000db-0005-fe00-b63f-84710c7967bb"}
{"@t":"2024-08-31T06:57:59.7158033Z","@mt":"Handling request: {Method} {Path}","@tr":"bc96507fb00e0e2b02889e43f7300a24","@sp":"dba3f7ecadf55cf7","Method":"GET","Path":"/api/v1/AAtest","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000e4-0001-fb00-b63f-84710c7967bb","RequestPath":"/api/v1/AAtest","CorrelationId":"400000e4-0001-fb00-b63f-84710c7967bb"}
{"@t":"2024-08-31T06:58:00.8312563Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["1115.2643"],"@tr":"bc96507fb00e0e2b02889e43f7300a24","@sp":"dba3f7ecadf55cf7","RequestMethod":"GET","RequestPath":"/api/v1/AAtest","StatusCode":200,"Elapsed":1115.2643,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"400000e4-0001-fb00-b63f-84710c7967bb","RequestId":"400000e4-0001-fb00-b63f-84710c7967bb"}
{"@t":"2024-08-31T06:58:00.8315509Z","@mt":"Request succeeded: {Method} {Path} in {ElapsedMilliseconds} ms","@tr":"bc96507fb00e0e2b02889e43f7300a24","@sp":"dba3f7ecadf55cf7","Method":"GET","Path":"/api/v1/AAtest","ElapsedMilliseconds":1115,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000e4-0001-fb00-b63f-84710c7967bb","RequestPath":"/api/v1/AAtest","CorrelationId":"400000e4-0001-fb00-b63f-84710c7967bb"}
{"@t":"2024-08-31T06:58:02.5589013Z","@mt":"Handling request: {Method} {Path}","@tr":"fcfa1631f7818ebffbaea7dfa5a82f15","@sp":"c65fa583f959aa43","Method":"GET","Path":"/api/v1/AAtest","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000ff-0003-fc00-b63f-84710c7967bb","RequestPath":"/api/v1/AAtest","CorrelationId":"400000ff-0003-fc00-b63f-84710c7967bb"}
{"@t":"2024-08-31T06:58:03.2085547Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["649.2862"],"@tr":"fcfa1631f7818ebffbaea7dfa5a82f15","@sp":"c65fa583f959aa43","RequestMethod":"GET","RequestPath":"/api/v1/AAtest","StatusCode":200,"Elapsed":649.2862,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"400000ff-0003-fc00-b63f-84710c7967bb","RequestId":"400000ff-0003-fc00-b63f-84710c7967bb"}
{"@t":"2024-08-31T06:58:03.2089532Z","@mt":"Request succeeded: {Method} {Path} in {ElapsedMilliseconds} ms","@tr":"fcfa1631f7818ebffbaea7dfa5a82f15","@sp":"c65fa583f959aa43","Method":"GET","Path":"/api/v1/AAtest","ElapsedMilliseconds":650,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000ff-0003-fc00-b63f-84710c7967bb","RequestPath":"/api/v1/AAtest","CorrelationId":"400000ff-0003-fc00-b63f-84710c7967bb"}
{"@t":"2024-08-31T07:47:14.3657697Z","@mt":"Handling request: {Method} {Path}","@tr":"40e06d68ed850d265db38546dd320482","@sp":"546ac8a1267cd64e","Method":"GET","Path":"/api/v1/users","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000b1-0003-ff00-b63f-84710c7967bb","RequestPath":"/api/v1/users","CorrelationId":"400000b1-0003-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T07:47:16.0685935Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["1671.3750"],"@tr":"40e06d68ed850d265db38546dd320482","@sp":"546ac8a1267cd64e","RequestMethod":"GET","RequestPath":"/api/v1/users","StatusCode":200,"Elapsed":1671.375,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"400000b1-0003-ff00-b63f-84710c7967bb","RequestId":"400000b1-0003-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T07:47:16.0723964Z","@mt":"Request succeeded: {Method} {Path} in {ElapsedMilliseconds} ms","@tr":"40e06d68ed850d265db38546dd320482","@sp":"546ac8a1267cd64e","Method":"GET","Path":"/api/v1/users","ElapsedMilliseconds":1710,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000b1-0003-ff00-b63f-84710c7967bb","RequestPath":"/api/v1/users","CorrelationId":"400000b1-0003-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T07:47:23.8544589Z","@mt":"Handling request: {Method} {Path}","@tr":"b0abe8ab4450993e2891d28033fb1880","@sp":"351a396c0f4eed52","Method":"POST","Path":"/api/v1/auth/register","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000b2-0003-ff00-b63f-84710c7967bb","RequestPath":"/api/v1/auth/register","CorrelationId":"400000b2-0003-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T07:47:24.1274884Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["272.7557"],"@tr":"b0abe8ab4450993e2891d28033fb1880","@sp":"351a396c0f4eed52","RequestMethod":"POST","RequestPath":"/api/v1/auth/register","StatusCode":200,"Elapsed":272.7557,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"400000b2-0003-ff00-b63f-84710c7967bb","RequestId":"400000b2-0003-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T07:47:24.1277836Z","@mt":"Request succeeded: {Method} {Path} in {ElapsedMilliseconds} ms","@tr":"b0abe8ab4450993e2891d28033fb1880","@sp":"351a396c0f4eed52","Method":"POST","Path":"/api/v1/auth/register","ElapsedMilliseconds":273,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000b2-0003-ff00-b63f-84710c7967bb","RequestPath":"/api/v1/auth/register","CorrelationId":"400000b2-0003-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T07:47:32.8199659Z","@mt":"Handling request: {Method} {Path}","@tr":"0eedabf5147ec2f6cf9d7ba1702260d7","@sp":"e337cf5b49f84add","Method":"POST","Path":"/api/v1/auth/login","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000b3-0003-ff00-b63f-84710c7967bb","RequestPath":"/api/v1/auth/login","CorrelationId":"400000b3-0003-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T07:47:32.8633079Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["43.1714"],"@tr":"0eedabf5147ec2f6cf9d7ba1702260d7","@sp":"e337cf5b49f84add","RequestMethod":"POST","RequestPath":"/api/v1/auth/login","StatusCode":403,"Elapsed":43.1714,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"400000b3-0003-ff00-b63f-84710c7967bb","RequestId":"400000b3-0003-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T07:47:32.8636113Z","@mt":"Request succeeded: {Method} {Path} in {ElapsedMilliseconds} ms","@tr":"0eedabf5147ec2f6cf9d7ba1702260d7","@sp":"e337cf5b49f84add","Method":"POST","Path":"/api/v1/auth/login","ElapsedMilliseconds":43,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000b3-0003-ff00-b63f-84710c7967bb","RequestPath":"/api/v1/auth/login","CorrelationId":"400000b3-0003-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T07:47:36.9941757Z","@mt":"Handling request: {Method} {Path}","@tr":"3068c8190660f6d0249f4b312ff4f986","@sp":"c1b344083a4bd9b2","Method":"POST","Path":"/api/v1/auth/pin","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000b4-0003-ff00-b63f-84710c7967bb","RequestPath":"/api/v1/auth/pin","CorrelationId":"400000b4-0003-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T07:47:40.0009465Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["3006.5486"],"@tr":"3068c8190660f6d0249f4b312ff4f986","@sp":"c1b344083a4bd9b2","RequestMethod":"POST","RequestPath":"/api/v1/auth/pin","StatusCode":200,"Elapsed":3006.5486,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"400000b4-0003-ff00-b63f-84710c7967bb","RequestId":"400000b4-0003-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T07:47:40.0011612Z","@mt":"Request succeeded: {Method} {Path} in {ElapsedMilliseconds} ms","@tr":"3068c8190660f6d0249f4b312ff4f986","@sp":"c1b344083a4bd9b2","Method":"POST","Path":"/api/v1/auth/pin","ElapsedMilliseconds":3006,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000b4-0003-ff00-b63f-84710c7967bb","RequestPath":"/api/v1/auth/pin","CorrelationId":"400000b4-0003-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T07:47:53.6759291Z","@mt":"Handling request: {Method} {Path}","@tr":"bfe350e0836ecf04f4cf81c37642f8e3","@sp":"0624caadd78a856f","Method":"POST","Path":"/api/v1/auth/verify","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000b5-0003-ff00-b63f-84710c7967bb","RequestPath":"/api/v1/auth/verify","CorrelationId":"400000b5-0003-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T07:47:53.7375041Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["61.3961"],"@tr":"bfe350e0836ecf04f4cf81c37642f8e3","@sp":"0624caadd78a856f","RequestMethod":"POST","RequestPath":"/api/v1/auth/verify","StatusCode":200,"Elapsed":61.3961,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"400000b5-0003-ff00-b63f-84710c7967bb","RequestId":"400000b5-0003-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T07:47:53.7377077Z","@mt":"Request succeeded: {Method} {Path} in {ElapsedMilliseconds} ms","@tr":"bfe350e0836ecf04f4cf81c37642f8e3","@sp":"0624caadd78a856f","Method":"POST","Path":"/api/v1/auth/verify","ElapsedMilliseconds":61,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000b5-0003-ff00-b63f-84710c7967bb","RequestPath":"/api/v1/auth/verify","CorrelationId":"400000b5-0003-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T07:48:40.3356452Z","@mt":"Handling request: {Method} {Path}","@tr":"61524c5d21ecc8f2bfcbbfc98a477b86","@sp":"497c1eab610305c0","Method":"GET","Path":"/api/v1/products","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"40000085-000f-fd00-b63f-84710c7967bb","RequestPath":"/api/v1/products","CorrelationId":"40000085-000f-fd00-b63f-84710c7967bb"}
{"@t":"2024-08-31T07:48:40.3605872Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["24.8015"],"@tr":"61524c5d21ecc8f2bfcbbfc98a477b86","@sp":"497c1eab610305c0","RequestMethod":"GET","RequestPath":"/api/v1/products","StatusCode":200,"Elapsed":24.8015,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"40000085-000f-fd00-b63f-84710c7967bb","RequestId":"40000085-000f-fd00-b63f-84710c7967bb"}
{"@t":"2024-08-31T07:48:40.3607551Z","@mt":"Request succeeded: {Method} {Path} in {ElapsedMilliseconds} ms","@tr":"61524c5d21ecc8f2bfcbbfc98a477b86","@sp":"497c1eab610305c0","Method":"GET","Path":"/api/v1/products","ElapsedMilliseconds":25,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"40000085-000f-fd00-b63f-84710c7967bb","RequestPath":"/api/v1/products","CorrelationId":"40000085-000f-fd00-b63f-84710c7967bb"}
{"@t":"2024-08-31T07:49:16.9149770Z","@mt":"Handling request: {Method} {Path}","@tr":"a345d96f152e62adef7e8486c779150b","@sp":"49aa715f7c77a0e1","Method":"POST","Path":"/api/v1/gifts","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"40000105-0000-fe00-b63f-84710c7967bb","RequestPath":"/api/v1/gifts","CorrelationId":"40000105-0000-fe00-b63f-84710c7967bb"}
{"@t":"2024-08-31T07:49:17.0715359Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["156.3566"],"@tr":"a345d96f152e62adef7e8486c779150b","@sp":"49aa715f7c77a0e1","RequestMethod":"POST","RequestPath":"/api/v1/gifts","StatusCode":200,"Elapsed":156.3566,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"40000105-0000-fe00-b63f-84710c7967bb","RequestId":"40000105-0000-fe00-b63f-84710c7967bb"}
{"@t":"2024-08-31T07:49:17.0717146Z","@mt":"Request succeeded: {Method} {Path} in {ElapsedMilliseconds} ms","@tr":"a345d96f152e62adef7e8486c779150b","@sp":"49aa715f7c77a0e1","Method":"POST","Path":"/api/v1/gifts","ElapsedMilliseconds":156,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"40000105-0000-fe00-b63f-84710c7967bb","RequestPath":"/api/v1/gifts","CorrelationId":"40000105-0000-fe00-b63f-84710c7967bb"}
{"@t":"2024-08-31T07:49:38.4462356Z","@mt":"Handling request: {Method} {Path}","@tr":"c9a1b7ce332c39c295080f24bfb8ae4e","@sp":"cd4b04e256961706","Method":"GET","Path":"/api/v1/gifts","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"40000106-0000-fe00-b63f-84710c7967bb","RequestPath":"/api/v1/gifts","CorrelationId":"40000106-0000-fe00-b63f-84710c7967bb"}
{"@t":"2024-08-31T07:49:38.5364161Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["89.9993"],"@tr":"c9a1b7ce332c39c295080f24bfb8ae4e","@sp":"cd4b04e256961706","RequestMethod":"GET","RequestPath":"/api/v1/gifts","StatusCode":200,"Elapsed":89.9993,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"40000106-0000-fe00-b63f-84710c7967bb","RequestId":"40000106-0000-fe00-b63f-84710c7967bb"}
{"@t":"2024-08-31T07:49:38.5367445Z","@mt":"Request succeeded: {Method} {Path} in {ElapsedMilliseconds} ms","@tr":"c9a1b7ce332c39c295080f24bfb8ae4e","@sp":"cd4b04e256961706","Method":"GET","Path":"/api/v1/gifts","ElapsedMilliseconds":90,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"40000106-0000-fe00-b63f-84710c7967bb","RequestPath":"/api/v1/gifts","CorrelationId":"40000106-0000-fe00-b63f-84710c7967bb"}
{"@t":"2024-08-31T07:49:52.9813878Z","@mt":"Handling request: {Method} {Path}","@tr":"591269ccdefc2323d5dbab5bc61dcbcd","@sp":"4f31382644b5043e","Method":"GET","Path":"/api/v1/orders","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000ed-000d-fe00-b63f-84710c7967bb","RequestPath":"/api/v1/orders","CorrelationId":"400000ed-000d-fe00-b63f-84710c7967bb"}
{"@t":"2024-08-31T07:49:53.0419636Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["60.3844"],"@tr":"591269ccdefc2323d5dbab5bc61dcbcd","@sp":"4f31382644b5043e","RequestMethod":"GET","RequestPath":"/api/v1/orders","StatusCode":200,"Elapsed":60.3844,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"400000ed-000d-fe00-b63f-84710c7967bb","RequestId":"400000ed-000d-fe00-b63f-84710c7967bb"}
{"@t":"2024-08-31T07:49:53.0422168Z","@mt":"Request succeeded: {Method} {Path} in {ElapsedMilliseconds} ms","@tr":"591269ccdefc2323d5dbab5bc61dcbcd","@sp":"4f31382644b5043e","Method":"GET","Path":"/api/v1/orders","ElapsedMilliseconds":60,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000ed-000d-fe00-b63f-84710c7967bb","RequestPath":"/api/v1/orders","CorrelationId":"400000ed-000d-fe00-b63f-84710c7967bb"}
{"@t":"2024-08-31T07:50:02.0269942Z","@mt":"Handling request: {Method} {Path}","@tr":"fb58ddfab28837871d3564ae2383b552","@sp":"afca9c46aeb5cb68","Method":"POST","Path":"/api/v1/orders","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000ee-000d-fe00-b63f-84710c7967bb","RequestPath":"/api/v1/orders","CorrelationId":"400000ee-000d-fe00-b63f-84710c7967bb"}
{"@t":"2024-08-31T07:50:02.0397326Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["12.4809"],"@tr":"fb58ddfab28837871d3564ae2383b552","@sp":"afca9c46aeb5cb68","RequestMethod":"POST","RequestPath":"/api/v1/orders","StatusCode":401,"Elapsed":12.4809,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"400000ee-000d-fe00-b63f-84710c7967bb","RequestId":"400000ee-000d-fe00-b63f-84710c7967bb"}
{"@t":"2024-08-31T07:50:02.0398981Z","@mt":"Request succeeded: {Method} {Path} in {ElapsedMilliseconds} ms","@tr":"fb58ddfab28837871d3564ae2383b552","@sp":"afca9c46aeb5cb68","Method":"POST","Path":"/api/v1/orders","ElapsedMilliseconds":12,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000ee-000d-fe00-b63f-84710c7967bb","RequestPath":"/api/v1/orders","CorrelationId":"400000ee-000d-fe00-b63f-84710c7967bb"}
{"@t":"2024-08-31T07:50:11.6640843Z","@mt":"Handling request: {Method} {Path}","@tr":"68c8de06c8a4cf54a7bad8f53c690e4b","@sp":"ffd84cb192813c8e","Method":"POST","Path":"/api/v1/orders","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000ef-000d-fe00-b63f-84710c7967bb","RequestPath":"/api/v1/orders","CorrelationId":"400000ef-000d-fe00-b63f-84710c7967bb"}
{"@t":"2024-08-31T07:50:11.6722112Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["7.8892"],"@l":"Error","@x":"Microsoft.AspNetCore.Http.BadHttpRequestException: Failed to read parameter \"AddOrderDto dto\" from the request body as JSON.\r\n ---> System.Text.Json.JsonException: The JSON value could not be converted to Domain.Orders.Address. Path: $.shippingAddress | LineNumber: 4 | BytePositionInLine: 33.\r\n   at System.Text.Json.ThrowHelper.ThrowJsonException_DeserializeUnableToConvertValue(Type propertyType)\r\n   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)\r\n   at System.Text.Json.Serialization.Converters.SmallObjectWithParameterizedConstructorConverter`5.TryRead[TArg](ReadStack& state, Utf8JsonReader& reader, JsonParameterInfo jsonParameterInfo, TArg& arg)\r\n   at System.Text.Json.Serialization.Converters.SmallObjectWithParameterizedConstructorConverter`5.ReadAndCacheConstructorArgument(ReadStack& state, Utf8JsonReader& reader, JsonParameterInfo jsonParameterInfo)\r\n   at System.Text.Json.Serialization.Converters.ObjectWithParameterizedConstructorConverter`1.ReadConstructorArgumentsWithContinuation(ReadStack& state, Utf8JsonReader& reader, JsonSerializerOptions options)\r\n   at System.Text.Json.Serialization.Converters.ObjectWithParameterizedConstructorConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)\r\n   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.ContinueDeserialize(ReadBufferState& bufferState, JsonReaderState& jsonReaderState, ReadStack& readStack)\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsync(Stream utf8Json, CancellationToken cancellationToken)\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsObjectAsync(Stream utf8Json, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|102_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.Log.InvalidJsonRequestBody(HttpContext httpContext, String parameterTypeName, String parameterName, Exception exception, Boolean shouldThrow)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|102_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","@tr":"68c8de06c8a4cf54a7bad8f53c690e4b","@sp":"ffd84cb192813c8e","RequestMethod":"POST","RequestPath":"/api/v1/orders","StatusCode":500,"Elapsed":7.8892,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"400000ef-000d-fe00-b63f-84710c7967bb","RequestId":"400000ef-000d-fe00-b63f-84710c7967bb"}
{"@t":"2024-08-31T07:50:11.7073929Z","@mt":"Request failed: {Method} {Path} in {ElapsedMilliseconds} ms","@l":"Error","@x":"Microsoft.AspNetCore.Http.BadHttpRequestException: Failed to read parameter \"AddOrderDto dto\" from the request body as JSON.\r\n ---> System.Text.Json.JsonException: The JSON value could not be converted to Domain.Orders.Address. Path: $.shippingAddress | LineNumber: 4 | BytePositionInLine: 33.\r\n   at System.Text.Json.ThrowHelper.ThrowJsonException_DeserializeUnableToConvertValue(Type propertyType)\r\n   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)\r\n   at System.Text.Json.Serialization.Converters.SmallObjectWithParameterizedConstructorConverter`5.TryRead[TArg](ReadStack& state, Utf8JsonReader& reader, JsonParameterInfo jsonParameterInfo, TArg& arg)\r\n   at System.Text.Json.Serialization.Converters.SmallObjectWithParameterizedConstructorConverter`5.ReadAndCacheConstructorArgument(ReadStack& state, Utf8JsonReader& reader, JsonParameterInfo jsonParameterInfo)\r\n   at System.Text.Json.Serialization.Converters.ObjectWithParameterizedConstructorConverter`1.ReadConstructorArgumentsWithContinuation(ReadStack& state, Utf8JsonReader& reader, JsonSerializerOptions options)\r\n   at System.Text.Json.Serialization.Converters.ObjectWithParameterizedConstructorConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)\r\n   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.ContinueDeserialize(ReadBufferState& bufferState, JsonReaderState& jsonReaderState, ReadStack& readStack)\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsync(Stream utf8Json, CancellationToken cancellationToken)\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsObjectAsync(Stream utf8Json, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|102_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.Log.InvalidJsonRequestBody(HttpContext httpContext, String parameterTypeName, String parameterName, Exception exception, Boolean shouldThrow)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|102_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at WebApi.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Middlewares\\RequestLoggingMiddleware.cs:line 23","@tr":"68c8de06c8a4cf54a7bad8f53c690e4b","@sp":"ffd84cb192813c8e","Method":"POST","Path":"/api/v1/orders","ElapsedMilliseconds":43,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000ef-000d-fe00-b63f-84710c7967bb","RequestPath":"/api/v1/orders","CorrelationId":"400000ef-000d-fe00-b63f-84710c7967bb"}
{"@t":"2024-08-31T07:50:11.7321713Z","@mt":"An unhandled exception has occurred while executing the request.","@l":"Error","@x":"Microsoft.AspNetCore.Http.BadHttpRequestException: Failed to read parameter \"AddOrderDto dto\" from the request body as JSON.\r\n ---> System.Text.Json.JsonException: The JSON value could not be converted to Domain.Orders.Address. Path: $.shippingAddress | LineNumber: 4 | BytePositionInLine: 33.\r\n   at System.Text.Json.ThrowHelper.ThrowJsonException_DeserializeUnableToConvertValue(Type propertyType)\r\n   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)\r\n   at System.Text.Json.Serialization.Converters.SmallObjectWithParameterizedConstructorConverter`5.TryRead[TArg](ReadStack& state, Utf8JsonReader& reader, JsonParameterInfo jsonParameterInfo, TArg& arg)\r\n   at System.Text.Json.Serialization.Converters.SmallObjectWithParameterizedConstructorConverter`5.ReadAndCacheConstructorArgument(ReadStack& state, Utf8JsonReader& reader, JsonParameterInfo jsonParameterInfo)\r\n   at System.Text.Json.Serialization.Converters.ObjectWithParameterizedConstructorConverter`1.ReadConstructorArgumentsWithContinuation(ReadStack& state, Utf8JsonReader& reader, JsonSerializerOptions options)\r\n   at System.Text.Json.Serialization.Converters.ObjectWithParameterizedConstructorConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)\r\n   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)\r\n   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.ContinueDeserialize(ReadBufferState& bufferState, JsonReaderState& jsonReaderState, ReadStack& readStack)\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsync(Stream utf8Json, CancellationToken cancellationToken)\r\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsObjectAsync(Stream utf8Json, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|102_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.Log.InvalidJsonRequestBody(HttpContext httpContext, String parameterTypeName, String parameterName, Exception exception, Boolean shouldThrow)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|102_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at WebApi.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Middlewares\\RequestLoggingMiddleware.cs:line 23\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","@tr":"68c8de06c8a4cf54a7bad8f53c690e4b","@sp":"ffd84cb192813c8e","EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"400000ef-000d-fe00-b63f-84710c7967bb","RequestPath":"/api/v1/orders"}
{"@t":"2024-08-31T07:59:29.0844354Z","@mt":"Handling request: {Method} {Path}","@tr":"7228d5c68ba72d65e6396b1455dad4a2","@sp":"7f062005a1d795fe","Method":"POST","Path":"/api/v1/orders","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"40000157-0004-fc00-b63f-84710c7967bb","RequestPath":"/api/v1/orders","CorrelationId":"40000157-0004-fc00-b63f-84710c7967bb"}
{"@t":"2024-08-31T07:59:32.9237078Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["3787.1089"],"@l":"Error","@x":"System.Net.Mail.SmtpException: Failure sending mail.\r\n ---> System.Net.Sockets.SocketException (11001): No such host is known.\r\n   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)\r\n   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)\r\n   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)\r\n--- End of stack trace from previous location ---\r\n   at System.Threading.Tasks.TaskToAsyncResult.End(IAsyncResult asyncResult)\r\n   at System.Net.Sockets.TcpClient.EndConnect(IAsyncResult asyncResult)\r\n   at System.Net.Mail.SmtpConnection.ConnectAndHandshakeAsyncResult.InitializeConnectionCallback(IAsyncResult result)\r\n--- End of stack trace from previous location ---\r\n   at System.Net.Mail.SmtpClient.ConnectCallback(IAsyncResult result)\r\n   --- End of inner exception stack trace ---\r\n   at Application.Common.Email.EmailSender.SendAsync(String recipient, String subject, String body) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Common\\Email\\EmailSender.cs:line 34\r\n   at Application.Orders.AddOrder.OrderAddedNotificationHandler.Handle(OrderAddedNotification notification, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\OrderAddedNotification.cs:line 24\r\n   at MediatR.NotificationPublishers.ForeachAwaitPublisher.Publish(IEnumerable`1 handlerExecutors, INotification notification, CancellationToken cancellationToken)\r\n   at Application.Orders.AddOrder.AddOrderCommandHandler.Handle(AddOrderCommand request, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\AddOrderCommand.cs:line 93\r\n   at WebApi.Endpoints.Orders.AddOrder.<>c.<<MapEndpoint>b__1_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Orders\\AddOrder.cs:line 32\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","@tr":"7228d5c68ba72d65e6396b1455dad4a2","@sp":"7f062005a1d795fe","RequestMethod":"POST","RequestPath":"/api/v1/orders","StatusCode":500,"Elapsed":3787.1089,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"40000157-0004-fc00-b63f-84710c7967bb","RequestId":"40000157-0004-fc00-b63f-84710c7967bb"}
{"@t":"2024-08-31T07:59:32.9965122Z","@mt":"Request failed: {Method} {Path} in {ElapsedMilliseconds} ms","@l":"Error","@x":"System.Net.Mail.SmtpException: Failure sending mail.\r\n ---> System.Net.Sockets.SocketException (11001): No such host is known.\r\n   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)\r\n   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)\r\n   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)\r\n--- End of stack trace from previous location ---\r\n   at System.Threading.Tasks.TaskToAsyncResult.End(IAsyncResult asyncResult)\r\n   at System.Net.Sockets.TcpClient.EndConnect(IAsyncResult asyncResult)\r\n   at System.Net.Mail.SmtpConnection.ConnectAndHandshakeAsyncResult.InitializeConnectionCallback(IAsyncResult result)\r\n--- End of stack trace from previous location ---\r\n   at System.Net.Mail.SmtpClient.ConnectCallback(IAsyncResult result)\r\n   --- End of inner exception stack trace ---\r\n   at Application.Common.Email.EmailSender.SendAsync(String recipient, String subject, String body) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Common\\Email\\EmailSender.cs:line 34\r\n   at Application.Orders.AddOrder.OrderAddedNotificationHandler.Handle(OrderAddedNotification notification, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\OrderAddedNotification.cs:line 24\r\n   at MediatR.NotificationPublishers.ForeachAwaitPublisher.Publish(IEnumerable`1 handlerExecutors, INotification notification, CancellationToken cancellationToken)\r\n   at Application.Orders.AddOrder.AddOrderCommandHandler.Handle(AddOrderCommand request, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\AddOrderCommand.cs:line 93\r\n   at WebApi.Endpoints.Orders.AddOrder.<>c.<<MapEndpoint>b__1_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Orders\\AddOrder.cs:line 32\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at WebApi.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Middlewares\\RequestLoggingMiddleware.cs:line 23","@tr":"7228d5c68ba72d65e6396b1455dad4a2","@sp":"7f062005a1d795fe","Method":"POST","Path":"/api/v1/orders","ElapsedMilliseconds":3917,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"40000157-0004-fc00-b63f-84710c7967bb","RequestPath":"/api/v1/orders","CorrelationId":"40000157-0004-fc00-b63f-84710c7967bb"}
{"@t":"2024-08-31T07:59:33.0371132Z","@mt":"An unhandled exception has occurred while executing the request.","@l":"Error","@x":"System.Net.Mail.SmtpException: Failure sending mail.\r\n ---> System.Net.Sockets.SocketException (11001): No such host is known.\r\n   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)\r\n   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)\r\n   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)\r\n--- End of stack trace from previous location ---\r\n   at System.Threading.Tasks.TaskToAsyncResult.End(IAsyncResult asyncResult)\r\n   at System.Net.Sockets.TcpClient.EndConnect(IAsyncResult asyncResult)\r\n   at System.Net.Mail.SmtpConnection.ConnectAndHandshakeAsyncResult.InitializeConnectionCallback(IAsyncResult result)\r\n--- End of stack trace from previous location ---\r\n   at System.Net.Mail.SmtpClient.ConnectCallback(IAsyncResult result)\r\n   --- End of inner exception stack trace ---\r\n   at Application.Common.Email.EmailSender.SendAsync(String recipient, String subject, String body) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Common\\Email\\EmailSender.cs:line 34\r\n   at Application.Orders.AddOrder.OrderAddedNotificationHandler.Handle(OrderAddedNotification notification, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\OrderAddedNotification.cs:line 24\r\n   at MediatR.NotificationPublishers.ForeachAwaitPublisher.Publish(IEnumerable`1 handlerExecutors, INotification notification, CancellationToken cancellationToken)\r\n   at Application.Orders.AddOrder.AddOrderCommandHandler.Handle(AddOrderCommand request, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\AddOrderCommand.cs:line 93\r\n   at WebApi.Endpoints.Orders.AddOrder.<>c.<<MapEndpoint>b__1_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Orders\\AddOrder.cs:line 32\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at WebApi.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Middlewares\\RequestLoggingMiddleware.cs:line 23\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","@tr":"7228d5c68ba72d65e6396b1455dad4a2","@sp":"7f062005a1d795fe","EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"40000157-0004-fc00-b63f-84710c7967bb","RequestPath":"/api/v1/orders"}
{"@t":"2024-08-31T08:01:49.0946153Z","@mt":"Handling request: {Method} {Path}","@tr":"8e0b4c6445c9803a549d4d0bc81ea91c","@sp":"abd59aa9088874c9","Method":"POST","Path":"/api/v1/orders","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"4000001d-000e-fd00-b63f-84710c7967bb","RequestPath":"/api/v1/orders","CorrelationId":"4000001d-000e-fd00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:01:51.8621863Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["2766.8156"],"@tr":"8e0b4c6445c9803a549d4d0bc81ea91c","@sp":"abd59aa9088874c9","RequestMethod":"POST","RequestPath":"/api/v1/orders","StatusCode":200,"Elapsed":2766.8156,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"4000001d-000e-fd00-b63f-84710c7967bb","RequestId":"4000001d-000e-fd00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:01:51.8627137Z","@mt":"Request succeeded: {Method} {Path} in {ElapsedMilliseconds} ms","@tr":"8e0b4c6445c9803a549d4d0bc81ea91c","@sp":"abd59aa9088874c9","Method":"POST","Path":"/api/v1/orders","ElapsedMilliseconds":2768,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"4000001d-000e-fd00-b63f-84710c7967bb","RequestPath":"/api/v1/orders","CorrelationId":"4000001d-000e-fd00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:02:09.8031421Z","@mt":"Handling request: {Method} {Path}","@tr":"ae4e1b8ce41dcd78c1abc6ca12f731e8","@sp":"115929b461ac69b1","Method":"GET","Path":"/api/v1/orders","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"4000001e-000e-fd00-b63f-84710c7967bb","RequestPath":"/api/v1/orders","CorrelationId":"4000001e-000e-fd00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:02:09.8766080Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["73.3052"],"@tr":"ae4e1b8ce41dcd78c1abc6ca12f731e8","@sp":"115929b461ac69b1","RequestMethod":"GET","RequestPath":"/api/v1/orders","StatusCode":200,"Elapsed":73.3052,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"4000001e-000e-fd00-b63f-84710c7967bb","RequestId":"4000001e-000e-fd00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:02:09.8768220Z","@mt":"Request succeeded: {Method} {Path} in {ElapsedMilliseconds} ms","@tr":"ae4e1b8ce41dcd78c1abc6ca12f731e8","@sp":"115929b461ac69b1","Method":"GET","Path":"/api/v1/orders","ElapsedMilliseconds":73,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"4000001e-000e-fd00-b63f-84710c7967bb","RequestPath":"/api/v1/orders","CorrelationId":"4000001e-000e-fd00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:03:48.2151439Z","@mt":"Handling request: {Method} {Path}","@tr":"c57452d908b85da6bf4eb3c00acb4ffb","@sp":"fe135ebe823309cc","Method":"GET","Path":"/api/v1/users/orders","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"40000159-0004-fc00-b63f-84710c7967bb","RequestPath":"/api/v1/users/orders","CorrelationId":"40000159-0004-fc00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:03:49.6145721Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["1373.9443"],"@tr":"c57452d908b85da6bf4eb3c00acb4ffb","@sp":"fe135ebe823309cc","RequestMethod":"GET","RequestPath":"/api/v1/users/orders","StatusCode":200,"Elapsed":1373.9443,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"40000159-0004-fc00-b63f-84710c7967bb","RequestId":"40000159-0004-fc00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:03:49.6175292Z","@mt":"Request succeeded: {Method} {Path} in {ElapsedMilliseconds} ms","@tr":"c57452d908b85da6bf4eb3c00acb4ffb","@sp":"fe135ebe823309cc","Method":"GET","Path":"/api/v1/users/orders","ElapsedMilliseconds":1405,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"40000159-0004-fc00-b63f-84710c7967bb","RequestPath":"/api/v1/users/orders","CorrelationId":"40000159-0004-fc00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:04:20.4267494Z","@mt":"Handling request: {Method} {Path}","@tr":"7b07a03e09931750ac495bafc66ba10d","@sp":"7ad2d2e3982ee397","Method":"GET","Path":"/api/v1/orders","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"4000015a-0004-fc00-b63f-84710c7967bb","RequestPath":"/api/v1/orders","CorrelationId":"4000015a-0004-fc00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:04:20.4922483Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["65.2279"],"@tr":"7b07a03e09931750ac495bafc66ba10d","@sp":"7ad2d2e3982ee397","RequestMethod":"GET","RequestPath":"/api/v1/orders","StatusCode":200,"Elapsed":65.2279,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"4000015a-0004-fc00-b63f-84710c7967bb","RequestId":"4000015a-0004-fc00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:04:20.4925331Z","@mt":"Request succeeded: {Method} {Path} in {ElapsedMilliseconds} ms","@tr":"7b07a03e09931750ac495bafc66ba10d","@sp":"7ad2d2e3982ee397","Method":"GET","Path":"/api/v1/orders","ElapsedMilliseconds":65,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"4000015a-0004-fc00-b63f-84710c7967bb","RequestPath":"/api/v1/orders","CorrelationId":"4000015a-0004-fc00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:04:21.9337626Z","@mt":"Handling request: {Method} {Path}","@tr":"514cf206023e24a6e2b32fc3531cbeb0","@sp":"89e75552f0595c2f","Method":"GET","Path":"/api/v1/users/orders","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"4000015b-0004-fc00-b63f-84710c7967bb","RequestPath":"/api/v1/users/orders","CorrelationId":"4000015b-0004-fc00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:04:21.9526896Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["18.7489"],"@tr":"514cf206023e24a6e2b32fc3531cbeb0","@sp":"89e75552f0595c2f","RequestMethod":"GET","RequestPath":"/api/v1/users/orders","StatusCode":200,"Elapsed":18.7489,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"4000015b-0004-fc00-b63f-84710c7967bb","RequestId":"4000015b-0004-fc00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:04:21.9529053Z","@mt":"Request succeeded: {Method} {Path} in {ElapsedMilliseconds} ms","@tr":"514cf206023e24a6e2b32fc3531cbeb0","@sp":"89e75552f0595c2f","Method":"GET","Path":"/api/v1/users/orders","ElapsedMilliseconds":19,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"4000015b-0004-fc00-b63f-84710c7967bb","RequestPath":"/api/v1/users/orders","CorrelationId":"4000015b-0004-fc00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:09:43.4731690Z","@mt":"Handling request: {Method} {Path}","@tr":"8054a1aa8c13e7dd5c266df7290626dd","@sp":"f62e2196f2e14428","Method":"PATCH","Path":"/api/v1/orders/731a5f8d-bf2f-446c-936e-911c32d3b9cb","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000ee-0006-fb00-b63f-84710c7967bb","RequestPath":"/api/v1/orders/731a5f8d-bf2f-446c-936e-911c32d3b9cb","CorrelationId":"400000ee-0006-fb00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:09:44.7280347Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["1228.4492"],"@tr":"8054a1aa8c13e7dd5c266df7290626dd","@sp":"f62e2196f2e14428","RequestMethod":"PATCH","RequestPath":"/api/v1/orders/731a5f8d-bf2f-446c-936e-911c32d3b9cb","StatusCode":404,"Elapsed":1228.4492,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"400000ee-0006-fb00-b63f-84710c7967bb","RequestId":"400000ee-0006-fb00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:09:44.7315547Z","@mt":"Request succeeded: {Method} {Path} in {ElapsedMilliseconds} ms","@tr":"8054a1aa8c13e7dd5c266df7290626dd","@sp":"f62e2196f2e14428","Method":"PATCH","Path":"/api/v1/orders/731a5f8d-bf2f-446c-936e-911c32d3b9cb","ElapsedMilliseconds":1261,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000ee-0006-fb00-b63f-84710c7967bb","RequestPath":"/api/v1/orders/731a5f8d-bf2f-446c-936e-911c32d3b9cb","CorrelationId":"400000ee-0006-fb00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:09:57.2729646Z","@mt":"Handling request: {Method} {Path}","@tr":"a509a8bedb3206d3bd0f2d1456d64a7e","@sp":"15d9a034eba2bfb6","Method":"GET","Path":"/api/v1/users/orders","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000ef-0006-fb00-b63f-84710c7967bb","RequestPath":"/api/v1/users/orders","CorrelationId":"400000ef-0006-fb00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:09:57.4327188Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["159.4758"],"@tr":"a509a8bedb3206d3bd0f2d1456d64a7e","@sp":"15d9a034eba2bfb6","RequestMethod":"GET","RequestPath":"/api/v1/users/orders","StatusCode":200,"Elapsed":159.4758,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"400000ef-0006-fb00-b63f-84710c7967bb","RequestId":"400000ef-0006-fb00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:09:57.4330556Z","@mt":"Request succeeded: {Method} {Path} in {ElapsedMilliseconds} ms","@tr":"a509a8bedb3206d3bd0f2d1456d64a7e","@sp":"15d9a034eba2bfb6","Method":"GET","Path":"/api/v1/users/orders","ElapsedMilliseconds":160,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000ef-0006-fb00-b63f-84710c7967bb","RequestPath":"/api/v1/users/orders","CorrelationId":"400000ef-0006-fb00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:10:10.0375760Z","@mt":"Handling request: {Method} {Path}","@tr":"4e0ea8acec4b9977ff069f9eab66485d","@sp":"5316c09161cc32d1","Method":"PATCH","Path":"/api/v1/orders/2eb4e1e2-9f45-43fa-b588-5520e1a27ebe","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000f0-0006-fb00-b63f-84710c7967bb","RequestPath":"/api/v1/orders/2eb4e1e2-9f45-43fa-b588-5520e1a27ebe","CorrelationId":"400000f0-0006-fb00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:10:17.3088347Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["7271.0912"],"@l":"Error","@x":"System.InvalidOperationException: The LINQ expression 'DbSet<Order>()\r\n    .Where(o => o.Id == __order_Id_0)\r\n    .ExecuteUpdate(s => s.SetProperty<Address>(\r\n        propertyExpression: o => o.ShippingAddress, \r\n        valueExpression: __order_ShippingAddress_1).SetProperty<Address>(\r\n        propertyExpression: o => o.BillingAddress, \r\n        valueExpression: __order_BillingAddress_2).SetProperty<OrderStatus>(\r\n        propertyExpression: o => o.OrderStatus, \r\n        valueExpression: __order_OrderStatus_3))' could not be translated. Additional information: The following lambda argument to 'SetProperty' does not represent a valid property to be set: 'o => o.BillingAddress'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.\r\n   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)\r\n   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)\r\n   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)\r\n   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)\r\n   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.RelationalQueryableExtensions.ExecuteUpdateAsync[TSource](IQueryable`1 source, Expression`1 setPropertyCalls, CancellationToken cancellationToken)\r\n   at Infrastructure.Repositories.OrderRepository.UpdateAsync(Order order, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Repositories\\OrderRepository.cs:line 76\r\n   at Application.Orders.UpdateOrder.UpdateOrderCommandHandler.Handle(UpdateOrderCommand request, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\UpdateOrder\\UpdateOrderCommand.cs:line 102\r\n   at WebApi.Endpoints.Orders.UpdateOrder.<>c.<<MapEndpoint>b__1_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Orders\\UpdateOrder.cs:line 29\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","@tr":"4e0ea8acec4b9977ff069f9eab66485d","@sp":"5316c09161cc32d1","RequestMethod":"PATCH","RequestPath":"/api/v1/orders/2eb4e1e2-9f45-43fa-b588-5520e1a27ebe","StatusCode":500,"Elapsed":7271.0912,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"400000f0-0006-fb00-b63f-84710c7967bb","RequestId":"400000f0-0006-fb00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:10:17.3614375Z","@mt":"Request failed: {Method} {Path} in {ElapsedMilliseconds} ms","@l":"Error","@x":"System.InvalidOperationException: The LINQ expression 'DbSet<Order>()\r\n    .Where(o => o.Id == __order_Id_0)\r\n    .ExecuteUpdate(s => s.SetProperty<Address>(\r\n        propertyExpression: o => o.ShippingAddress, \r\n        valueExpression: __order_ShippingAddress_1).SetProperty<Address>(\r\n        propertyExpression: o => o.BillingAddress, \r\n        valueExpression: __order_BillingAddress_2).SetProperty<OrderStatus>(\r\n        propertyExpression: o => o.OrderStatus, \r\n        valueExpression: __order_OrderStatus_3))' could not be translated. Additional information: The following lambda argument to 'SetProperty' does not represent a valid property to be set: 'o => o.BillingAddress'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.\r\n   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)\r\n   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)\r\n   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)\r\n   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)\r\n   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.RelationalQueryableExtensions.ExecuteUpdateAsync[TSource](IQueryable`1 source, Expression`1 setPropertyCalls, CancellationToken cancellationToken)\r\n   at Infrastructure.Repositories.OrderRepository.UpdateAsync(Order order, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Repositories\\OrderRepository.cs:line 76\r\n   at Application.Orders.UpdateOrder.UpdateOrderCommandHandler.Handle(UpdateOrderCommand request, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\UpdateOrder\\UpdateOrderCommand.cs:line 102\r\n   at WebApi.Endpoints.Orders.UpdateOrder.<>c.<<MapEndpoint>b__1_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Orders\\UpdateOrder.cs:line 29\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at WebApi.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Middlewares\\RequestLoggingMiddleware.cs:line 23","@tr":"4e0ea8acec4b9977ff069f9eab66485d","@sp":"5316c09161cc32d1","Method":"PATCH","Path":"/api/v1/orders/2eb4e1e2-9f45-43fa-b588-5520e1a27ebe","ElapsedMilliseconds":7323,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000f0-0006-fb00-b63f-84710c7967bb","RequestPath":"/api/v1/orders/2eb4e1e2-9f45-43fa-b588-5520e1a27ebe","CorrelationId":"400000f0-0006-fb00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:10:17.3866387Z","@mt":"An unhandled exception has occurred while executing the request.","@l":"Error","@x":"System.InvalidOperationException: The LINQ expression 'DbSet<Order>()\r\n    .Where(o => o.Id == __order_Id_0)\r\n    .ExecuteUpdate(s => s.SetProperty<Address>(\r\n        propertyExpression: o => o.ShippingAddress, \r\n        valueExpression: __order_ShippingAddress_1).SetProperty<Address>(\r\n        propertyExpression: o => o.BillingAddress, \r\n        valueExpression: __order_BillingAddress_2).SetProperty<OrderStatus>(\r\n        propertyExpression: o => o.OrderStatus, \r\n        valueExpression: __order_OrderStatus_3))' could not be translated. Additional information: The following lambda argument to 'SetProperty' does not represent a valid property to be set: 'o => o.BillingAddress'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.\r\n   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)\r\n   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)\r\n   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)\r\n   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)\r\n   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.RelationalQueryableExtensions.ExecuteUpdateAsync[TSource](IQueryable`1 source, Expression`1 setPropertyCalls, CancellationToken cancellationToken)\r\n   at Infrastructure.Repositories.OrderRepository.UpdateAsync(Order order, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Repositories\\OrderRepository.cs:line 76\r\n   at Application.Orders.UpdateOrder.UpdateOrderCommandHandler.Handle(UpdateOrderCommand request, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\UpdateOrder\\UpdateOrderCommand.cs:line 102\r\n   at WebApi.Endpoints.Orders.UpdateOrder.<>c.<<MapEndpoint>b__1_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Orders\\UpdateOrder.cs:line 29\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at WebApi.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Middlewares\\RequestLoggingMiddleware.cs:line 23\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","@tr":"4e0ea8acec4b9977ff069f9eab66485d","@sp":"5316c09161cc32d1","EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"400000f0-0006-fb00-b63f-84710c7967bb","RequestPath":"/api/v1/orders/2eb4e1e2-9f45-43fa-b588-5520e1a27ebe"}
{"@t":"2024-08-31T08:14:46.6159351Z","@mt":"Handling request: {Method} {Path}","@tr":"ed024f53cb4aff9d7389eb349b21b677","@sp":"fda4d205f006620e","Method":"PATCH","Path":"/api/v1/orders/2eb4e1e2-9f45-43fa-b588-5520e1a27ebe","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000bb-0003-ff00-b63f-84710c7967bb","RequestPath":"/api/v1/orders/2eb4e1e2-9f45-43fa-b588-5520e1a27ebe","CorrelationId":"400000bb-0003-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:14:48.1973083Z","@mt":"Failed executing DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@l":"Error","@tr":"ed024f53cb4aff9d7389eb349b21b677","@sp":"fda4d205f006620e","elapsed":"37","parameters":"@__id_0='?' (DbType = Guid)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [o].[Id], [o].[BillingAddressId], [o].[CreatedAtUtc], [o].[OrderStatus], [o].[ShippingAddressId], [o].[UserId], [u].[Id], [a].[Id], [a0].[Id], [u].[Address], [u].[CreatedAtUtc], [u].[Email], [u].[FirstName], [u].[Gender], [u].[IsLocked], [u].[IsVerified], [u].[LastName], [u].[ModifiedOnUtc], [u].[PasswordHash], [u].[PhoneNumber], [u].[ProfileImageUrl], [a].[Apartment], [a].[Building], [a].[City], [a].[Country], [a].[Floor], [a].[Governate], [a].[PostalCode], [a].[Street], [a0].[Apartment], [a0].[Building], [a0].[City], [a0].[Country], [a0].[Floor], [a0].[Governate], [a0].[PostalCode], [a0].[Street]\r\nFROM [Orders] AS [o]\r\nINNER JOIN [Users] AS [u] ON [o].[UserId] = [u].[Id]\r\nINNER JOIN [Addresses] AS [a] ON [o].[ShippingAddressId] = [a].[Id]\r\nINNER JOIN [Addresses] AS [a0] ON [o].[BillingAddressId] = [a0].[Id]\r\nWHERE [o].[Id] = @__id_0\r\nORDER BY [o].[Id], [u].[Id], [a].[Id], [a0].[Id]","EventId":{"Id":20102,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"400000bb-0003-ff00-b63f-84710c7967bb","RequestPath":"/api/v1/orders/2eb4e1e2-9f45-43fa-b588-5520e1a27ebe","CorrelationId":"400000bb-0003-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:14:48.2168952Z","@mt":"An exception occurred while iterating over the results of a query for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'Addresses'.\r\n   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)\r\n   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n--- End of stack trace from previous location ---\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SplitQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SplitQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\nClientConnectionId:741c3955-8e30-4be6-a404-2c9af6052299\r\nError Number:208,State:1,Class:16","@tr":"ed024f53cb4aff9d7389eb349b21b677","@sp":"fda4d205f006620e","contextType":"Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'Addresses'.\r\n   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)\r\n   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n--- End of stack trace from previous location ---\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SplitQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SplitQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\nClientConnectionId:741c3955-8e30-4be6-a404-2c9af6052299\r\nError Number:208,State:1,Class:16","EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","RequestId":"400000bb-0003-ff00-b63f-84710c7967bb","RequestPath":"/api/v1/orders/2eb4e1e2-9f45-43fa-b588-5520e1a27ebe","CorrelationId":"400000bb-0003-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:14:48.2925314Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["1641.4002"],"@l":"Error","@x":"Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'Addresses'.\r\n   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)\r\n   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n--- End of stack trace from previous location ---\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SplitQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SplitQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Infrastructure.Repositories.OrderRepository.GetByIdAsync(Guid id, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Repositories\\OrderRepository.cs:line 42\r\n   at Application.Orders.UpdateOrder.UpdateOrderCommandHandler.Handle(UpdateOrderCommand request, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\UpdateOrder\\UpdateOrderCommand.cs:line 43\r\n   at WebApi.Endpoints.Orders.UpdateOrder.<>c.<<MapEndpoint>b__1_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Orders\\UpdateOrder.cs:line 29\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\nClientConnectionId:741c3955-8e30-4be6-a404-2c9af6052299\r\nError Number:208,State:1,Class:16","@tr":"ed024f53cb4aff9d7389eb349b21b677","@sp":"fda4d205f006620e","RequestMethod":"PATCH","RequestPath":"/api/v1/orders/2eb4e1e2-9f45-43fa-b588-5520e1a27ebe","StatusCode":500,"Elapsed":1641.4002,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"400000bb-0003-ff00-b63f-84710c7967bb","RequestId":"400000bb-0003-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:14:48.3432014Z","@mt":"Request failed: {Method} {Path} in {ElapsedMilliseconds} ms","@l":"Error","@x":"Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'Addresses'.\r\n   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)\r\n   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n--- End of stack trace from previous location ---\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SplitQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SplitQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Infrastructure.Repositories.OrderRepository.GetByIdAsync(Guid id, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Repositories\\OrderRepository.cs:line 42\r\n   at Application.Orders.UpdateOrder.UpdateOrderCommandHandler.Handle(UpdateOrderCommand request, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\UpdateOrder\\UpdateOrderCommand.cs:line 43\r\n   at WebApi.Endpoints.Orders.UpdateOrder.<>c.<<MapEndpoint>b__1_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Orders\\UpdateOrder.cs:line 29\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at WebApi.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Middlewares\\RequestLoggingMiddleware.cs:line 23\r\nClientConnectionId:741c3955-8e30-4be6-a404-2c9af6052299\r\nError Number:208,State:1,Class:16","@tr":"ed024f53cb4aff9d7389eb349b21b677","@sp":"fda4d205f006620e","Method":"PATCH","Path":"/api/v1/orders/2eb4e1e2-9f45-43fa-b588-5520e1a27ebe","ElapsedMilliseconds":1731,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000bb-0003-ff00-b63f-84710c7967bb","RequestPath":"/api/v1/orders/2eb4e1e2-9f45-43fa-b588-5520e1a27ebe","CorrelationId":"400000bb-0003-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:14:48.3739452Z","@mt":"An unhandled exception has occurred while executing the request.","@l":"Error","@x":"Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid object name 'Addresses'.\r\n   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)\r\n   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n--- End of stack trace from previous location ---\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SplitQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.SplitQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\r\n   at Infrastructure.Repositories.OrderRepository.GetByIdAsync(Guid id, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Repositories\\OrderRepository.cs:line 42\r\n   at Application.Orders.UpdateOrder.UpdateOrderCommandHandler.Handle(UpdateOrderCommand request, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\UpdateOrder\\UpdateOrderCommand.cs:line 43\r\n   at WebApi.Endpoints.Orders.UpdateOrder.<>c.<<MapEndpoint>b__1_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Orders\\UpdateOrder.cs:line 29\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at WebApi.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Middlewares\\RequestLoggingMiddleware.cs:line 23\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)\r\nClientConnectionId:741c3955-8e30-4be6-a404-2c9af6052299\r\nError Number:208,State:1,Class:16","@tr":"ed024f53cb4aff9d7389eb349b21b677","@sp":"fda4d205f006620e","EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"400000bb-0003-ff00-b63f-84710c7967bb","RequestPath":"/api/v1/orders/2eb4e1e2-9f45-43fa-b588-5520e1a27ebe"}
{"@t":"2024-08-31T08:19:20.3501671Z","@mt":"Handling request: {Method} {Path}","@tr":"5784d2fe9e23db9ede2fc16df0368cec","@sp":"f8d58fd370ae862d","Method":"POST","Path":"/api/v1/auth/login","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"40000051-000a-ff00-b63f-84710c7967bb","RequestPath":"/api/v1/auth/login","CorrelationId":"40000051-000a-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:19:21.5113462Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["1135.4300"],"@tr":"5784d2fe9e23db9ede2fc16df0368cec","@sp":"f8d58fd370ae862d","RequestMethod":"POST","RequestPath":"/api/v1/auth/login","StatusCode":404,"Elapsed":1135.43,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"40000051-000a-ff00-b63f-84710c7967bb","RequestId":"40000051-000a-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:19:21.5151067Z","@mt":"Request succeeded: {Method} {Path} in {ElapsedMilliseconds} ms","@tr":"5784d2fe9e23db9ede2fc16df0368cec","@sp":"f8d58fd370ae862d","Method":"POST","Path":"/api/v1/auth/login","ElapsedMilliseconds":1168,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"40000051-000a-ff00-b63f-84710c7967bb","RequestPath":"/api/v1/auth/login","CorrelationId":"40000051-000a-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:19:25.7115199Z","@mt":"Handling request: {Method} {Path}","@tr":"e45fded3b644d19ed1f0af860e26b66c","@sp":"ae99d6a846f9edcb","Method":"POST","Path":"/api/v1/auth/register","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"40000052-000a-ff00-b63f-84710c7967bb","RequestPath":"/api/v1/auth/register","CorrelationId":"40000052-000a-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:19:25.9198296Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["208.1022"],"@tr":"e45fded3b644d19ed1f0af860e26b66c","@sp":"ae99d6a846f9edcb","RequestMethod":"POST","RequestPath":"/api/v1/auth/register","StatusCode":200,"Elapsed":208.1022,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"40000052-000a-ff00-b63f-84710c7967bb","RequestId":"40000052-000a-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:19:25.9202152Z","@mt":"Request succeeded: {Method} {Path} in {ElapsedMilliseconds} ms","@tr":"e45fded3b644d19ed1f0af860e26b66c","@sp":"ae99d6a846f9edcb","Method":"POST","Path":"/api/v1/auth/register","ElapsedMilliseconds":208,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"40000052-000a-ff00-b63f-84710c7967bb","RequestPath":"/api/v1/auth/register","CorrelationId":"40000052-000a-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:19:28.7109982Z","@mt":"Handling request: {Method} {Path}","@tr":"5731e30b873c7d7e973a462c75eeea03","@sp":"43014ccba7048363","Method":"POST","Path":"/api/v1/auth/pin","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"40000053-000a-ff00-b63f-84710c7967bb","RequestPath":"/api/v1/auth/pin","CorrelationId":"40000053-000a-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:19:31.0519420Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["2340.7937"],"@tr":"5731e30b873c7d7e973a462c75eeea03","@sp":"43014ccba7048363","RequestMethod":"POST","RequestPath":"/api/v1/auth/pin","StatusCode":200,"Elapsed":2340.7937,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"40000053-000a-ff00-b63f-84710c7967bb","RequestId":"40000053-000a-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:19:31.0521540Z","@mt":"Request succeeded: {Method} {Path} in {ElapsedMilliseconds} ms","@tr":"5731e30b873c7d7e973a462c75eeea03","@sp":"43014ccba7048363","Method":"POST","Path":"/api/v1/auth/pin","ElapsedMilliseconds":2341,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"40000053-000a-ff00-b63f-84710c7967bb","RequestPath":"/api/v1/auth/pin","CorrelationId":"40000053-000a-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:19:52.1350561Z","@mt":"Handling request: {Method} {Path}","@tr":"a18e5d4574be7d5be5205db231357438","@sp":"6658cbc346d0483a","Method":"POST","Path":"/api/v1/auth/verify","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"40000054-000a-ff00-b63f-84710c7967bb","RequestPath":"/api/v1/auth/verify","CorrelationId":"40000054-000a-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:19:52.2036801Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["68.4641"],"@tr":"a18e5d4574be7d5be5205db231357438","@sp":"6658cbc346d0483a","RequestMethod":"POST","RequestPath":"/api/v1/auth/verify","StatusCode":200,"Elapsed":68.4641,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"40000054-000a-ff00-b63f-84710c7967bb","RequestId":"40000054-000a-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:19:52.2038812Z","@mt":"Request succeeded: {Method} {Path} in {ElapsedMilliseconds} ms","@tr":"a18e5d4574be7d5be5205db231357438","@sp":"6658cbc346d0483a","Method":"POST","Path":"/api/v1/auth/verify","ElapsedMilliseconds":68,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"40000054-000a-ff00-b63f-84710c7967bb","RequestPath":"/api/v1/auth/verify","CorrelationId":"40000054-000a-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:20:53.4996337Z","@mt":"Handling request: {Method} {Path}","@tr":"7eaf7f90ed9ba91a0c3ee8a3692904df","@sp":"f33698abac78e1ed","Method":"GET","Path":"/api/v1/products","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"4000008c-0009-fb00-b63f-84710c7967bb","RequestPath":"/api/v1/products","CorrelationId":"4000008c-0009-fb00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:20:53.5353185Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["35.5084"],"@tr":"7eaf7f90ed9ba91a0c3ee8a3692904df","@sp":"f33698abac78e1ed","RequestMethod":"GET","RequestPath":"/api/v1/products","StatusCode":200,"Elapsed":35.5084,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"4000008c-0009-fb00-b63f-84710c7967bb","RequestId":"4000008c-0009-fb00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:20:53.5355147Z","@mt":"Request succeeded: {Method} {Path} in {ElapsedMilliseconds} ms","@tr":"7eaf7f90ed9ba91a0c3ee8a3692904df","@sp":"f33698abac78e1ed","Method":"GET","Path":"/api/v1/products","ElapsedMilliseconds":35,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"4000008c-0009-fb00-b63f-84710c7967bb","RequestPath":"/api/v1/products","CorrelationId":"4000008c-0009-fb00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:21:22.7487148Z","@mt":"Handling request: {Method} {Path}","@tr":"d1bacbad2bb088f3d05ec840e36727e8","@sp":"ff311a6287e0b2c7","Method":"POST","Path":"/api/v1/gifts","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"40000024-000e-fd00-b63f-84710c7967bb","RequestPath":"/api/v1/gifts","CorrelationId":"40000024-000e-fd00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:21:22.8947600Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["145.8768"],"@tr":"d1bacbad2bb088f3d05ec840e36727e8","@sp":"ff311a6287e0b2c7","RequestMethod":"POST","RequestPath":"/api/v1/gifts","StatusCode":200,"Elapsed":145.8768,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"40000024-000e-fd00-b63f-84710c7967bb","RequestId":"40000024-000e-fd00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:21:22.8949393Z","@mt":"Request succeeded: {Method} {Path} in {ElapsedMilliseconds} ms","@tr":"d1bacbad2bb088f3d05ec840e36727e8","@sp":"ff311a6287e0b2c7","Method":"POST","Path":"/api/v1/gifts","ElapsedMilliseconds":146,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"40000024-000e-fd00-b63f-84710c7967bb","RequestPath":"/api/v1/gifts","CorrelationId":"40000024-000e-fd00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:21:36.2314825Z","@mt":"Handling request: {Method} {Path}","@tr":"016836a6ce966653eb099fbf6b794dea","@sp":"69cd5ee5aa603c36","Method":"POST","Path":"/api/v1/orders","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000d9-0002-fd00-b63f-84710c7967bb","RequestPath":"/api/v1/orders","CorrelationId":"400000d9-0002-fd00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:21:38.8071859Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["2575.5607"],"@tr":"016836a6ce966653eb099fbf6b794dea","@sp":"69cd5ee5aa603c36","RequestMethod":"POST","RequestPath":"/api/v1/orders","StatusCode":200,"Elapsed":2575.5607,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"400000d9-0002-fd00-b63f-84710c7967bb","RequestId":"400000d9-0002-fd00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:21:38.8073998Z","@mt":"Request succeeded: {Method} {Path} in {ElapsedMilliseconds} ms","@tr":"016836a6ce966653eb099fbf6b794dea","@sp":"69cd5ee5aa603c36","Method":"POST","Path":"/api/v1/orders","ElapsedMilliseconds":2575,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000d9-0002-fd00-b63f-84710c7967bb","RequestPath":"/api/v1/orders","CorrelationId":"400000d9-0002-fd00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:21:56.2155356Z","@mt":"Handling request: {Method} {Path}","@tr":"9f251baf5befd8cb919870e7802a5280","@sp":"10c4e78df9c4e46d","Method":"PATCH","Path":"/api/v1/orders/ef250df4-76e7-42dd-8e63-951dd1f4b6ff","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000da-0002-fd00-b63f-84710c7967bb","RequestPath":"/api/v1/orders/ef250df4-76e7-42dd-8e63-951dd1f4b6ff","CorrelationId":"400000da-0002-fd00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:21:58.1414356Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["1925.7294"],"@tr":"9f251baf5befd8cb919870e7802a5280","@sp":"10c4e78df9c4e46d","RequestMethod":"PATCH","RequestPath":"/api/v1/orders/ef250df4-76e7-42dd-8e63-951dd1f4b6ff","StatusCode":200,"Elapsed":1925.7294,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"400000da-0002-fd00-b63f-84710c7967bb","RequestId":"400000da-0002-fd00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:21:58.1416984Z","@mt":"Request succeeded: {Method} {Path} in {ElapsedMilliseconds} ms","@tr":"9f251baf5befd8cb919870e7802a5280","@sp":"10c4e78df9c4e46d","Method":"PATCH","Path":"/api/v1/orders/ef250df4-76e7-42dd-8e63-951dd1f4b6ff","ElapsedMilliseconds":1926,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000da-0002-fd00-b63f-84710c7967bb","RequestPath":"/api/v1/orders/ef250df4-76e7-42dd-8e63-951dd1f4b6ff","CorrelationId":"400000da-0002-fd00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:22:19.9767063Z","@mt":"Handling request: {Method} {Path}","@tr":"1c68807d6af26f9eb121c7262eaaaf2b","@sp":"8126b0969d389b8e","Method":"GET","Path":"/api/v1/orders","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000db-0002-fd00-b63f-84710c7967bb","RequestPath":"/api/v1/orders","CorrelationId":"400000db-0002-fd00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:22:20.0166521Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["39.6568"],"@tr":"1c68807d6af26f9eb121c7262eaaaf2b","@sp":"8126b0969d389b8e","RequestMethod":"GET","RequestPath":"/api/v1/orders","StatusCode":200,"Elapsed":39.6568,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"400000db-0002-fd00-b63f-84710c7967bb","RequestId":"400000db-0002-fd00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:22:20.0168549Z","@mt":"Request succeeded: {Method} {Path} in {ElapsedMilliseconds} ms","@tr":"1c68807d6af26f9eb121c7262eaaaf2b","@sp":"8126b0969d389b8e","Method":"GET","Path":"/api/v1/orders","ElapsedMilliseconds":40,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000db-0002-fd00-b63f-84710c7967bb","RequestPath":"/api/v1/orders","CorrelationId":"400000db-0002-fd00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:23:01.9444007Z","@mt":"Handling request: {Method} {Path}","@tr":"4c7baada076ec4eeb650b8e3a7adad4f","@sp":"e940443efca9754e","Method":"PATCH","Path":"/api/v1/orders/ef250df4-76e7-42dd-8e63-951dd1f4b6ff","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000dc-0002-fd00-b63f-84710c7967bb","RequestPath":"/api/v1/orders/ef250df4-76e7-42dd-8e63-951dd1f4b6ff","CorrelationId":"400000dc-0002-fd00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:23:03.8644447Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["1919.8412"],"@tr":"4c7baada076ec4eeb650b8e3a7adad4f","@sp":"e940443efca9754e","RequestMethod":"PATCH","RequestPath":"/api/v1/orders/ef250df4-76e7-42dd-8e63-951dd1f4b6ff","StatusCode":200,"Elapsed":1919.8412,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"400000dc-0002-fd00-b63f-84710c7967bb","RequestId":"400000dc-0002-fd00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:23:03.8646730Z","@mt":"Request succeeded: {Method} {Path} in {ElapsedMilliseconds} ms","@tr":"4c7baada076ec4eeb650b8e3a7adad4f","@sp":"e940443efca9754e","Method":"PATCH","Path":"/api/v1/orders/ef250df4-76e7-42dd-8e63-951dd1f4b6ff","ElapsedMilliseconds":1920,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000dc-0002-fd00-b63f-84710c7967bb","RequestPath":"/api/v1/orders/ef250df4-76e7-42dd-8e63-951dd1f4b6ff","CorrelationId":"400000dc-0002-fd00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:23:15.0851946Z","@mt":"Handling request: {Method} {Path}","@tr":"46ca3d81a3d7a8c34676c9892ecbc35f","@sp":"0c333e7f2261baa1","Method":"GET","Path":"/api/v1/users/orders","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000dd-0002-fd00-b63f-84710c7967bb","RequestPath":"/api/v1/users/orders","CorrelationId":"400000dd-0002-fd00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:23:15.1139314Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["28.5899"],"@tr":"46ca3d81a3d7a8c34676c9892ecbc35f","@sp":"0c333e7f2261baa1","RequestMethod":"GET","RequestPath":"/api/v1/users/orders","StatusCode":200,"Elapsed":28.5899,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"400000dd-0002-fd00-b63f-84710c7967bb","RequestId":"400000dd-0002-fd00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:23:15.1140981Z","@mt":"Request succeeded: {Method} {Path} in {ElapsedMilliseconds} ms","@tr":"46ca3d81a3d7a8c34676c9892ecbc35f","@sp":"0c333e7f2261baa1","Method":"GET","Path":"/api/v1/users/orders","ElapsedMilliseconds":28,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000dd-0002-fd00-b63f-84710c7967bb","RequestPath":"/api/v1/users/orders","CorrelationId":"400000dd-0002-fd00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:24:18.4960462Z","@mt":"Handling request: {Method} {Path}","@tr":"cf2ed7a7a072ee145576fa9aefaf0f74","@sp":"850b4fc28550800b","Method":"GET","Path":"/api/v1/users/orders","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000de-0002-fd00-b63f-84710c7967bb","RequestPath":"/api/v1/users/orders","CorrelationId":"400000de-0002-fd00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:24:18.5094171Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["13.1141"],"@tr":"cf2ed7a7a072ee145576fa9aefaf0f74","@sp":"850b4fc28550800b","RequestMethod":"GET","RequestPath":"/api/v1/users/orders","StatusCode":200,"Elapsed":13.1141,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"400000de-0002-fd00-b63f-84710c7967bb","RequestId":"400000de-0002-fd00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:24:18.5095598Z","@mt":"Request succeeded: {Method} {Path} in {ElapsedMilliseconds} ms","@tr":"cf2ed7a7a072ee145576fa9aefaf0f74","@sp":"850b4fc28550800b","Method":"GET","Path":"/api/v1/users/orders","ElapsedMilliseconds":13,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000de-0002-fd00-b63f-84710c7967bb","RequestPath":"/api/v1/users/orders","CorrelationId":"400000de-0002-fd00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:24:46.3030524Z","@mt":"Handling request: {Method} {Path}","@tr":"862ce8df6b44fd7ea8977f5631e1cf2a","@sp":"565163bf12dc7de5","Method":"PATCH","Path":"/api/v1/orders/ef250df4-76e7-42dd-8e63-951dd1f4b6ff","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000df-0002-fd00-b63f-84710c7967bb","RequestPath":"/api/v1/orders/ef250df4-76e7-42dd-8e63-951dd1f4b6ff","CorrelationId":"400000df-0002-fd00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:24:48.3210719Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["2017.9095"],"@tr":"862ce8df6b44fd7ea8977f5631e1cf2a","@sp":"565163bf12dc7de5","RequestMethod":"PATCH","RequestPath":"/api/v1/orders/ef250df4-76e7-42dd-8e63-951dd1f4b6ff","StatusCode":200,"Elapsed":2017.9095,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"400000df-0002-fd00-b63f-84710c7967bb","RequestId":"400000df-0002-fd00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:24:48.3212567Z","@mt":"Request succeeded: {Method} {Path} in {ElapsedMilliseconds} ms","@tr":"862ce8df6b44fd7ea8977f5631e1cf2a","@sp":"565163bf12dc7de5","Method":"PATCH","Path":"/api/v1/orders/ef250df4-76e7-42dd-8e63-951dd1f4b6ff","ElapsedMilliseconds":2018,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000df-0002-fd00-b63f-84710c7967bb","RequestPath":"/api/v1/orders/ef250df4-76e7-42dd-8e63-951dd1f4b6ff","CorrelationId":"400000df-0002-fd00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:24:58.6777543Z","@mt":"Handling request: {Method} {Path}","@tr":"bfd085a9a2b4d5ccef036b59bc8220cd","@sp":"5a67124bed8dadec","Method":"GET","Path":"/api/v1/users/orders","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000e0-0002-fd00-b63f-84710c7967bb","RequestPath":"/api/v1/users/orders","CorrelationId":"400000e0-0002-fd00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:24:58.6861538Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["8.2947"],"@tr":"bfd085a9a2b4d5ccef036b59bc8220cd","@sp":"5a67124bed8dadec","RequestMethod":"GET","RequestPath":"/api/v1/users/orders","StatusCode":200,"Elapsed":8.2947,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"400000e0-0002-fd00-b63f-84710c7967bb","RequestId":"400000e0-0002-fd00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:24:58.6863146Z","@mt":"Request succeeded: {Method} {Path} in {ElapsedMilliseconds} ms","@tr":"bfd085a9a2b4d5ccef036b59bc8220cd","@sp":"5a67124bed8dadec","Method":"GET","Path":"/api/v1/users/orders","ElapsedMilliseconds":8,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000e0-0002-fd00-b63f-84710c7967bb","RequestPath":"/api/v1/users/orders","CorrelationId":"400000e0-0002-fd00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:35:47.9155483Z","@mt":"Handling request: {Method} {Path}","@tr":"d88523a68dc7a91842e561579bd0ab22","@sp":"1e3a872875c5eaa9","Method":"PATCH","Path":"/api/v1/orders/ef250df4-76e7-42dd-8e63-951dd1f4b6ff","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"4000010a-0007-fb00-b63f-84710c7967bb","RequestPath":"/api/v1/orders/ef250df4-76e7-42dd-8e63-951dd1f4b6ff","CorrelationId":"4000010a-0007-fb00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:35:57.8203689Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["9878.1273"],"@tr":"d88523a68dc7a91842e561579bd0ab22","@sp":"1e3a872875c5eaa9","RequestMethod":"PATCH","RequestPath":"/api/v1/orders/ef250df4-76e7-42dd-8e63-951dd1f4b6ff","StatusCode":200,"Elapsed":9878.1273,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"4000010a-0007-fb00-b63f-84710c7967bb","RequestId":"4000010a-0007-fb00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:35:57.8230637Z","@mt":"Request succeeded: {Method} {Path} in {ElapsedMilliseconds} ms","@tr":"d88523a68dc7a91842e561579bd0ab22","@sp":"1e3a872875c5eaa9","Method":"PATCH","Path":"/api/v1/orders/ef250df4-76e7-42dd-8e63-951dd1f4b6ff","ElapsedMilliseconds":9912,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"4000010a-0007-fb00-b63f-84710c7967bb","RequestPath":"/api/v1/orders/ef250df4-76e7-42dd-8e63-951dd1f4b6ff","CorrelationId":"4000010a-0007-fb00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:46:35.5204116Z","@mt":"Handling request: {Method} {Path}","@tr":"2b61aacde64d293ddf149a369848e186","@sp":"345440b27369dd98","Method":"PATCH","Path":"/api/v1/orders/ef250df4-76e7-42dd-8e63-951dd1f4b6ff","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000bf-0003-ff00-b63f-84710c7967bb","RequestPath":"/api/v1/orders/ef250df4-76e7-42dd-8e63-951dd1f4b6ff","CorrelationId":"400000bf-0003-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:46:39.2173259Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["3672.7626"],"@tr":"2b61aacde64d293ddf149a369848e186","@sp":"345440b27369dd98","RequestMethod":"PATCH","RequestPath":"/api/v1/orders/ef250df4-76e7-42dd-8e63-951dd1f4b6ff","StatusCode":200,"Elapsed":3672.7626,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"400000bf-0003-ff00-b63f-84710c7967bb","RequestId":"400000bf-0003-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:46:39.2203035Z","@mt":"Request succeeded: {Method} {Path} in {ElapsedMilliseconds} ms","@tr":"2b61aacde64d293ddf149a369848e186","@sp":"345440b27369dd98","Method":"PATCH","Path":"/api/v1/orders/ef250df4-76e7-42dd-8e63-951dd1f4b6ff","ElapsedMilliseconds":3703,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000bf-0003-ff00-b63f-84710c7967bb","RequestPath":"/api/v1/orders/ef250df4-76e7-42dd-8e63-951dd1f4b6ff","CorrelationId":"400000bf-0003-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:50:21.8631463Z","@mt":"Handling request: {Method} {Path}","@tr":"aa50b8e4b5eeedc772f5fd40307deaf3","@sp":"eab0038720818a98","Method":"POST","Path":"/api/v1/orders","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000f7-000d-fe00-b63f-84710c7967bb","RequestPath":"/api/v1/orders","CorrelationId":"400000f7-000d-fe00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:50:27.5638465Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["5661.3735"],"@l":"Error","@x":"System.Net.Http.HttpRequestException: Response status code does not indicate success: 400 (Bad Request).\r\n   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()\r\n   at Infrastructure.Payment.PaymentOrderManager.CreateAsync(PaymentAuthToken token, Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentOrderManager.cs:line 32\r\n   at Infrastructure.Payment.PaymentProvider.CreateAsync(Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentProvider.cs:line 19\r\n   at Application.Orders.AddOrder.OrderAddedNotificationHandler.Handle(OrderAddedNotification notification, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\OrderAddedNotification.cs:line 23\r\n   at MediatR.NotificationPublishers.ForeachAwaitPublisher.Publish(IEnumerable`1 handlerExecutors, INotification notification, CancellationToken cancellationToken)\r\n   at Application.Orders.AddOrder.AddOrderCommandHandler.Handle(AddOrderCommand request, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\AddOrderCommand.cs:line 93\r\n   at WebApi.Endpoints.Orders.AddOrder.<>c.<<MapEndpoint>b__1_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Orders\\AddOrder.cs:line 32\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","@tr":"aa50b8e4b5eeedc772f5fd40307deaf3","@sp":"eab0038720818a98","RequestMethod":"POST","RequestPath":"/api/v1/orders","StatusCode":500,"Elapsed":5661.3735,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"400000f7-000d-fe00-b63f-84710c7967bb","RequestId":"400000f7-000d-fe00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:50:27.6214044Z","@mt":"Request failed: {Method} {Path} in {ElapsedMilliseconds} ms","@l":"Error","@x":"System.Net.Http.HttpRequestException: Response status code does not indicate success: 400 (Bad Request).\r\n   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()\r\n   at Infrastructure.Payment.PaymentOrderManager.CreateAsync(PaymentAuthToken token, Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentOrderManager.cs:line 32\r\n   at Infrastructure.Payment.PaymentProvider.CreateAsync(Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentProvider.cs:line 19\r\n   at Application.Orders.AddOrder.OrderAddedNotificationHandler.Handle(OrderAddedNotification notification, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\OrderAddedNotification.cs:line 23\r\n   at MediatR.NotificationPublishers.ForeachAwaitPublisher.Publish(IEnumerable`1 handlerExecutors, INotification notification, CancellationToken cancellationToken)\r\n   at Application.Orders.AddOrder.AddOrderCommandHandler.Handle(AddOrderCommand request, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\AddOrderCommand.cs:line 93\r\n   at WebApi.Endpoints.Orders.AddOrder.<>c.<<MapEndpoint>b__1_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Orders\\AddOrder.cs:line 32\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at WebApi.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Middlewares\\RequestLoggingMiddleware.cs:line 23","@tr":"aa50b8e4b5eeedc772f5fd40307deaf3","@sp":"eab0038720818a98","Method":"POST","Path":"/api/v1/orders","ElapsedMilliseconds":5762,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000f7-000d-fe00-b63f-84710c7967bb","RequestPath":"/api/v1/orders","CorrelationId":"400000f7-000d-fe00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:50:27.6497013Z","@mt":"An unhandled exception has occurred while executing the request.","@l":"Error","@x":"System.Net.Http.HttpRequestException: Response status code does not indicate success: 400 (Bad Request).\r\n   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()\r\n   at Infrastructure.Payment.PaymentOrderManager.CreateAsync(PaymentAuthToken token, Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentOrderManager.cs:line 32\r\n   at Infrastructure.Payment.PaymentProvider.CreateAsync(Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentProvider.cs:line 19\r\n   at Application.Orders.AddOrder.OrderAddedNotificationHandler.Handle(OrderAddedNotification notification, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\OrderAddedNotification.cs:line 23\r\n   at MediatR.NotificationPublishers.ForeachAwaitPublisher.Publish(IEnumerable`1 handlerExecutors, INotification notification, CancellationToken cancellationToken)\r\n   at Application.Orders.AddOrder.AddOrderCommandHandler.Handle(AddOrderCommand request, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\AddOrderCommand.cs:line 93\r\n   at WebApi.Endpoints.Orders.AddOrder.<>c.<<MapEndpoint>b__1_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Orders\\AddOrder.cs:line 32\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at WebApi.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Middlewares\\RequestLoggingMiddleware.cs:line 23\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","@tr":"aa50b8e4b5eeedc772f5fd40307deaf3","@sp":"eab0038720818a98","EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"400000f7-000d-fe00-b63f-84710c7967bb","RequestPath":"/api/v1/orders"}
{"@t":"2024-08-31T08:50:50.9596700Z","@mt":"Handling request: {Method} {Path}","@tr":"f8e1d14d37d3898730c6fd9367b8bf54","@sp":"3aa209c02023fd0c","Method":"POST","Path":"/api/v1/orders","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000f8-000d-fe00-b63f-84710c7967bb","RequestPath":"/api/v1/orders","CorrelationId":"400000f8-000d-fe00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:50:57.8479508Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["6888.0432"],"@l":"Error","@x":"System.Net.Http.HttpRequestException: Response status code does not indicate success: 400 (Bad Request).\r\n   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()\r\n   at Infrastructure.Payment.PaymentOrderManager.CreateAsync(PaymentAuthToken token, Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentOrderManager.cs:line 32\r\n   at Infrastructure.Payment.PaymentProvider.CreateAsync(Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentProvider.cs:line 19\r\n   at Application.Orders.AddOrder.OrderAddedNotificationHandler.Handle(OrderAddedNotification notification, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\OrderAddedNotification.cs:line 23\r\n   at MediatR.NotificationPublishers.ForeachAwaitPublisher.Publish(IEnumerable`1 handlerExecutors, INotification notification, CancellationToken cancellationToken)\r\n   at Application.Orders.AddOrder.AddOrderCommandHandler.Handle(AddOrderCommand request, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\AddOrderCommand.cs:line 93\r\n   at WebApi.Endpoints.Orders.AddOrder.<>c.<<MapEndpoint>b__1_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Orders\\AddOrder.cs:line 32\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","@tr":"f8e1d14d37d3898730c6fd9367b8bf54","@sp":"3aa209c02023fd0c","RequestMethod":"POST","RequestPath":"/api/v1/orders","StatusCode":500,"Elapsed":6888.0432,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"400000f8-000d-fe00-b63f-84710c7967bb","RequestId":"400000f8-000d-fe00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:50:57.8731524Z","@mt":"Request failed: {Method} {Path} in {ElapsedMilliseconds} ms","@l":"Error","@x":"System.Net.Http.HttpRequestException: Response status code does not indicate success: 400 (Bad Request).\r\n   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()\r\n   at Infrastructure.Payment.PaymentOrderManager.CreateAsync(PaymentAuthToken token, Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentOrderManager.cs:line 32\r\n   at Infrastructure.Payment.PaymentProvider.CreateAsync(Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentProvider.cs:line 19\r\n   at Application.Orders.AddOrder.OrderAddedNotificationHandler.Handle(OrderAddedNotification notification, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\OrderAddedNotification.cs:line 23\r\n   at MediatR.NotificationPublishers.ForeachAwaitPublisher.Publish(IEnumerable`1 handlerExecutors, INotification notification, CancellationToken cancellationToken)\r\n   at Application.Orders.AddOrder.AddOrderCommandHandler.Handle(AddOrderCommand request, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\AddOrderCommand.cs:line 93\r\n   at WebApi.Endpoints.Orders.AddOrder.<>c.<<MapEndpoint>b__1_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Orders\\AddOrder.cs:line 32\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at WebApi.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Middlewares\\RequestLoggingMiddleware.cs:line 23","@tr":"f8e1d14d37d3898730c6fd9367b8bf54","@sp":"3aa209c02023fd0c","Method":"POST","Path":"/api/v1/orders","ElapsedMilliseconds":6913,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000f8-000d-fe00-b63f-84710c7967bb","RequestPath":"/api/v1/orders","CorrelationId":"400000f8-000d-fe00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:50:57.9113938Z","@mt":"An unhandled exception has occurred while executing the request.","@l":"Error","@x":"System.Net.Http.HttpRequestException: Response status code does not indicate success: 400 (Bad Request).\r\n   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()\r\n   at Infrastructure.Payment.PaymentOrderManager.CreateAsync(PaymentAuthToken token, Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentOrderManager.cs:line 32\r\n   at Infrastructure.Payment.PaymentProvider.CreateAsync(Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentProvider.cs:line 19\r\n   at Application.Orders.AddOrder.OrderAddedNotificationHandler.Handle(OrderAddedNotification notification, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\OrderAddedNotification.cs:line 23\r\n   at MediatR.NotificationPublishers.ForeachAwaitPublisher.Publish(IEnumerable`1 handlerExecutors, INotification notification, CancellationToken cancellationToken)\r\n   at Application.Orders.AddOrder.AddOrderCommandHandler.Handle(AddOrderCommand request, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\AddOrderCommand.cs:line 93\r\n   at WebApi.Endpoints.Orders.AddOrder.<>c.<<MapEndpoint>b__1_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Orders\\AddOrder.cs:line 32\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at WebApi.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Middlewares\\RequestLoggingMiddleware.cs:line 23\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","@tr":"f8e1d14d37d3898730c6fd9367b8bf54","@sp":"3aa209c02023fd0c","EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"400000f8-000d-fe00-b63f-84710c7967bb","RequestPath":"/api/v1/orders"}
{"@t":"2024-08-31T08:51:39.5489410Z","@mt":"Handling request: {Method} {Path}","@tr":"b7fa834aa4f6e3c9575871af11ef09a8","@sp":"9a1c97f820c14574","Method":"POST","Path":"/api/v1/orders","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000f9-000d-fe00-b63f-84710c7967bb","RequestPath":"/api/v1/orders","CorrelationId":"400000f9-000d-fe00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:52:01.9807635Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["22431.6477"],"@l":"Error","@x":"System.Net.Http.HttpRequestException: Response status code does not indicate success: 400 (Bad Request).\r\n   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()\r\n   at Infrastructure.Payment.PaymentOrderManager.CreateAsync(PaymentAuthToken token, Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentOrderManager.cs:line 32\r\n   at Infrastructure.Payment.PaymentProvider.CreateAsync(Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentProvider.cs:line 19\r\n   at Application.Orders.AddOrder.OrderAddedNotificationHandler.Handle(OrderAddedNotification notification, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\OrderAddedNotification.cs:line 23\r\n   at MediatR.NotificationPublishers.ForeachAwaitPublisher.Publish(IEnumerable`1 handlerExecutors, INotification notification, CancellationToken cancellationToken)\r\n   at Application.Orders.AddOrder.AddOrderCommandHandler.Handle(AddOrderCommand request, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\AddOrderCommand.cs:line 93\r\n   at WebApi.Endpoints.Orders.AddOrder.<>c.<<MapEndpoint>b__1_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Orders\\AddOrder.cs:line 32\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","@tr":"b7fa834aa4f6e3c9575871af11ef09a8","@sp":"9a1c97f820c14574","RequestMethod":"POST","RequestPath":"/api/v1/orders","StatusCode":500,"Elapsed":22431.6477,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"400000f9-000d-fe00-b63f-84710c7967bb","RequestId":"400000f9-000d-fe00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:52:02.0102404Z","@mt":"Request failed: {Method} {Path} in {ElapsedMilliseconds} ms","@l":"Error","@x":"System.Net.Http.HttpRequestException: Response status code does not indicate success: 400 (Bad Request).\r\n   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()\r\n   at Infrastructure.Payment.PaymentOrderManager.CreateAsync(PaymentAuthToken token, Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentOrderManager.cs:line 32\r\n   at Infrastructure.Payment.PaymentProvider.CreateAsync(Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentProvider.cs:line 19\r\n   at Application.Orders.AddOrder.OrderAddedNotificationHandler.Handle(OrderAddedNotification notification, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\OrderAddedNotification.cs:line 23\r\n   at MediatR.NotificationPublishers.ForeachAwaitPublisher.Publish(IEnumerable`1 handlerExecutors, INotification notification, CancellationToken cancellationToken)\r\n   at Application.Orders.AddOrder.AddOrderCommandHandler.Handle(AddOrderCommand request, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\AddOrderCommand.cs:line 93\r\n   at WebApi.Endpoints.Orders.AddOrder.<>c.<<MapEndpoint>b__1_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Orders\\AddOrder.cs:line 32\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at WebApi.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Middlewares\\RequestLoggingMiddleware.cs:line 23","@tr":"b7fa834aa4f6e3c9575871af11ef09a8","@sp":"9a1c97f820c14574","Method":"POST","Path":"/api/v1/orders","ElapsedMilliseconds":22461,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000f9-000d-fe00-b63f-84710c7967bb","RequestPath":"/api/v1/orders","CorrelationId":"400000f9-000d-fe00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:52:02.0371073Z","@mt":"An unhandled exception has occurred while executing the request.","@l":"Error","@x":"System.Net.Http.HttpRequestException: Response status code does not indicate success: 400 (Bad Request).\r\n   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()\r\n   at Infrastructure.Payment.PaymentOrderManager.CreateAsync(PaymentAuthToken token, Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentOrderManager.cs:line 32\r\n   at Infrastructure.Payment.PaymentProvider.CreateAsync(Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentProvider.cs:line 19\r\n   at Application.Orders.AddOrder.OrderAddedNotificationHandler.Handle(OrderAddedNotification notification, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\OrderAddedNotification.cs:line 23\r\n   at MediatR.NotificationPublishers.ForeachAwaitPublisher.Publish(IEnumerable`1 handlerExecutors, INotification notification, CancellationToken cancellationToken)\r\n   at Application.Orders.AddOrder.AddOrderCommandHandler.Handle(AddOrderCommand request, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\AddOrderCommand.cs:line 93\r\n   at WebApi.Endpoints.Orders.AddOrder.<>c.<<MapEndpoint>b__1_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Orders\\AddOrder.cs:line 32\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at WebApi.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Middlewares\\RequestLoggingMiddleware.cs:line 23\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","@tr":"b7fa834aa4f6e3c9575871af11ef09a8","@sp":"9a1c97f820c14574","EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"400000f9-000d-fe00-b63f-84710c7967bb","RequestPath":"/api/v1/orders"}
{"@t":"2024-08-31T08:52:57.6797272Z","@mt":"Handling request: {Method} {Path}","@tr":"d5a81ec734ebf1bcd0565b78b7acc985","@sp":"14c536e1dde1cafd","Method":"POST","Path":"/api/v1/orders","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"4000010c-0007-fb00-b63f-84710c7967bb","RequestPath":"/api/v1/orders","CorrelationId":"4000010c-0007-fb00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:53:18.7574864Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["21044.1292"],"@l":"Error","@x":"System.Net.Http.HttpRequestException: Response status code does not indicate success: 400 (Bad Request).\r\n   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()\r\n   at Infrastructure.Payment.PaymentOrderManager.CreateAsync(PaymentAuthToken token, Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentOrderManager.cs:line 32\r\n   at Infrastructure.Payment.PaymentProvider.CreateAsync(Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentProvider.cs:line 19\r\n   at Application.Orders.AddOrder.OrderAddedNotificationHandler.Handle(OrderAddedNotification notification, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\OrderAddedNotification.cs:line 23\r\n   at MediatR.NotificationPublishers.ForeachAwaitPublisher.Publish(IEnumerable`1 handlerExecutors, INotification notification, CancellationToken cancellationToken)\r\n   at Application.Orders.AddOrder.AddOrderCommandHandler.Handle(AddOrderCommand request, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\AddOrderCommand.cs:line 93\r\n   at WebApi.Endpoints.Orders.AddOrder.<>c.<<MapEndpoint>b__1_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Orders\\AddOrder.cs:line 32\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","@tr":"d5a81ec734ebf1bcd0565b78b7acc985","@sp":"14c536e1dde1cafd","RequestMethod":"POST","RequestPath":"/api/v1/orders","StatusCode":500,"Elapsed":21044.1292,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"4000010c-0007-fb00-b63f-84710c7967bb","RequestId":"4000010c-0007-fb00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:53:18.7980421Z","@mt":"Request failed: {Method} {Path} in {ElapsedMilliseconds} ms","@l":"Error","@x":"System.Net.Http.HttpRequestException: Response status code does not indicate success: 400 (Bad Request).\r\n   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()\r\n   at Infrastructure.Payment.PaymentOrderManager.CreateAsync(PaymentAuthToken token, Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentOrderManager.cs:line 32\r\n   at Infrastructure.Payment.PaymentProvider.CreateAsync(Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentProvider.cs:line 19\r\n   at Application.Orders.AddOrder.OrderAddedNotificationHandler.Handle(OrderAddedNotification notification, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\OrderAddedNotification.cs:line 23\r\n   at MediatR.NotificationPublishers.ForeachAwaitPublisher.Publish(IEnumerable`1 handlerExecutors, INotification notification, CancellationToken cancellationToken)\r\n   at Application.Orders.AddOrder.AddOrderCommandHandler.Handle(AddOrderCommand request, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\AddOrderCommand.cs:line 93\r\n   at WebApi.Endpoints.Orders.AddOrder.<>c.<<MapEndpoint>b__1_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Orders\\AddOrder.cs:line 32\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at WebApi.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Middlewares\\RequestLoggingMiddleware.cs:line 23","@tr":"d5a81ec734ebf1bcd0565b78b7acc985","@sp":"14c536e1dde1cafd","Method":"POST","Path":"/api/v1/orders","ElapsedMilliseconds":21121,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"4000010c-0007-fb00-b63f-84710c7967bb","RequestPath":"/api/v1/orders","CorrelationId":"4000010c-0007-fb00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:53:18.8281726Z","@mt":"An unhandled exception has occurred while executing the request.","@l":"Error","@x":"System.Net.Http.HttpRequestException: Response status code does not indicate success: 400 (Bad Request).\r\n   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()\r\n   at Infrastructure.Payment.PaymentOrderManager.CreateAsync(PaymentAuthToken token, Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentOrderManager.cs:line 32\r\n   at Infrastructure.Payment.PaymentProvider.CreateAsync(Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentProvider.cs:line 19\r\n   at Application.Orders.AddOrder.OrderAddedNotificationHandler.Handle(OrderAddedNotification notification, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\OrderAddedNotification.cs:line 23\r\n   at MediatR.NotificationPublishers.ForeachAwaitPublisher.Publish(IEnumerable`1 handlerExecutors, INotification notification, CancellationToken cancellationToken)\r\n   at Application.Orders.AddOrder.AddOrderCommandHandler.Handle(AddOrderCommand request, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\AddOrderCommand.cs:line 93\r\n   at WebApi.Endpoints.Orders.AddOrder.<>c.<<MapEndpoint>b__1_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Orders\\AddOrder.cs:line 32\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at WebApi.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Middlewares\\RequestLoggingMiddleware.cs:line 23\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","@tr":"d5a81ec734ebf1bcd0565b78b7acc985","@sp":"14c536e1dde1cafd","EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"4000010c-0007-fb00-b63f-84710c7967bb","RequestPath":"/api/v1/orders"}
{"@t":"2024-08-31T08:55:27.2841709Z","@mt":"Handling request: {Method} {Path}","@tr":"c16199cba81e2cd0a5a4e2f654e11f7c","@sp":"3218e32d5d7786c7","Method":"POST","Path":"/api/v1/orders","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"40000076-000b-fe00-b63f-84710c7967bb","RequestPath":"/api/v1/orders","CorrelationId":"40000076-000b-fe00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:55:34.5275327Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["7217.0232"],"@l":"Error","@x":"System.Net.Http.HttpRequestException: Response status code does not indicate success: 400 (Bad Request).\r\n   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()\r\n   at Infrastructure.Payment.PaymentOrderManager.CreateAsync(PaymentAuthToken token, Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentOrderManager.cs:line 32\r\n   at Infrastructure.Payment.PaymentProvider.CreateAsync(Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentProvider.cs:line 19\r\n   at Application.Orders.AddOrder.OrderAddedNotificationHandler.Handle(OrderAddedNotification notification, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\OrderAddedNotification.cs:line 23\r\n   at MediatR.NotificationPublishers.ForeachAwaitPublisher.Publish(IEnumerable`1 handlerExecutors, INotification notification, CancellationToken cancellationToken)\r\n   at Application.Orders.AddOrder.AddOrderCommandHandler.Handle(AddOrderCommand request, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\AddOrderCommand.cs:line 93\r\n   at WebApi.Endpoints.Orders.AddOrder.<>c.<<MapEndpoint>b__1_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Orders\\AddOrder.cs:line 32\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","@tr":"c16199cba81e2cd0a5a4e2f654e11f7c","@sp":"3218e32d5d7786c7","RequestMethod":"POST","RequestPath":"/api/v1/orders","StatusCode":500,"Elapsed":7217.0232,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"40000076-000b-fe00-b63f-84710c7967bb","RequestId":"40000076-000b-fe00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:55:34.5702184Z","@mt":"Request failed: {Method} {Path} in {ElapsedMilliseconds} ms","@l":"Error","@x":"System.Net.Http.HttpRequestException: Response status code does not indicate success: 400 (Bad Request).\r\n   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()\r\n   at Infrastructure.Payment.PaymentOrderManager.CreateAsync(PaymentAuthToken token, Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentOrderManager.cs:line 32\r\n   at Infrastructure.Payment.PaymentProvider.CreateAsync(Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentProvider.cs:line 19\r\n   at Application.Orders.AddOrder.OrderAddedNotificationHandler.Handle(OrderAddedNotification notification, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\OrderAddedNotification.cs:line 23\r\n   at MediatR.NotificationPublishers.ForeachAwaitPublisher.Publish(IEnumerable`1 handlerExecutors, INotification notification, CancellationToken cancellationToken)\r\n   at Application.Orders.AddOrder.AddOrderCommandHandler.Handle(AddOrderCommand request, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\AddOrderCommand.cs:line 93\r\n   at WebApi.Endpoints.Orders.AddOrder.<>c.<<MapEndpoint>b__1_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Orders\\AddOrder.cs:line 32\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at WebApi.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Middlewares\\RequestLoggingMiddleware.cs:line 23","@tr":"c16199cba81e2cd0a5a4e2f654e11f7c","@sp":"3218e32d5d7786c7","Method":"POST","Path":"/api/v1/orders","ElapsedMilliseconds":7288,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"40000076-000b-fe00-b63f-84710c7967bb","RequestPath":"/api/v1/orders","CorrelationId":"40000076-000b-fe00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:55:34.5999078Z","@mt":"An unhandled exception has occurred while executing the request.","@l":"Error","@x":"System.Net.Http.HttpRequestException: Response status code does not indicate success: 400 (Bad Request).\r\n   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()\r\n   at Infrastructure.Payment.PaymentOrderManager.CreateAsync(PaymentAuthToken token, Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentOrderManager.cs:line 32\r\n   at Infrastructure.Payment.PaymentProvider.CreateAsync(Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentProvider.cs:line 19\r\n   at Application.Orders.AddOrder.OrderAddedNotificationHandler.Handle(OrderAddedNotification notification, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\OrderAddedNotification.cs:line 23\r\n   at MediatR.NotificationPublishers.ForeachAwaitPublisher.Publish(IEnumerable`1 handlerExecutors, INotification notification, CancellationToken cancellationToken)\r\n   at Application.Orders.AddOrder.AddOrderCommandHandler.Handle(AddOrderCommand request, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\AddOrderCommand.cs:line 93\r\n   at WebApi.Endpoints.Orders.AddOrder.<>c.<<MapEndpoint>b__1_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Orders\\AddOrder.cs:line 32\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at WebApi.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Middlewares\\RequestLoggingMiddleware.cs:line 23\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","@tr":"c16199cba81e2cd0a5a4e2f654e11f7c","@sp":"3218e32d5d7786c7","EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"40000076-000b-fe00-b63f-84710c7967bb","RequestPath":"/api/v1/orders"}
{"@t":"2024-08-31T08:56:19.2258661Z","@mt":"Handling request: {Method} {Path}","@tr":"f1cfa6d7dcca94f1c653d471ae0da8f3","@sp":"fec958e24c1d7d6d","Method":"POST","Path":"/api/v1/orders","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"40000077-000b-fe00-b63f-84710c7967bb","RequestPath":"/api/v1/orders","CorrelationId":"40000077-000b-fe00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:56:35.5592971Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["16333.2221"],"@l":"Error","@x":"System.Net.Http.HttpRequestException: Response status code does not indicate success: 400 (Bad Request).\r\n   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()\r\n   at Infrastructure.Payment.PaymentOrderManager.CreateAsync(PaymentAuthToken token, Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentOrderManager.cs:line 32\r\n   at Infrastructure.Payment.PaymentProvider.CreateAsync(Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentProvider.cs:line 19\r\n   at Application.Orders.AddOrder.OrderAddedNotificationHandler.Handle(OrderAddedNotification notification, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\OrderAddedNotification.cs:line 23\r\n   at MediatR.NotificationPublishers.ForeachAwaitPublisher.Publish(IEnumerable`1 handlerExecutors, INotification notification, CancellationToken cancellationToken)\r\n   at Application.Orders.AddOrder.AddOrderCommandHandler.Handle(AddOrderCommand request, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\AddOrderCommand.cs:line 93\r\n   at WebApi.Endpoints.Orders.AddOrder.<>c.<<MapEndpoint>b__1_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Orders\\AddOrder.cs:line 32\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","@tr":"f1cfa6d7dcca94f1c653d471ae0da8f3","@sp":"fec958e24c1d7d6d","RequestMethod":"POST","RequestPath":"/api/v1/orders","StatusCode":500,"Elapsed":16333.2221,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"40000077-000b-fe00-b63f-84710c7967bb","RequestId":"40000077-000b-fe00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:56:35.5871913Z","@mt":"Request failed: {Method} {Path} in {ElapsedMilliseconds} ms","@l":"Error","@x":"System.Net.Http.HttpRequestException: Response status code does not indicate success: 400 (Bad Request).\r\n   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()\r\n   at Infrastructure.Payment.PaymentOrderManager.CreateAsync(PaymentAuthToken token, Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentOrderManager.cs:line 32\r\n   at Infrastructure.Payment.PaymentProvider.CreateAsync(Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentProvider.cs:line 19\r\n   at Application.Orders.AddOrder.OrderAddedNotificationHandler.Handle(OrderAddedNotification notification, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\OrderAddedNotification.cs:line 23\r\n   at MediatR.NotificationPublishers.ForeachAwaitPublisher.Publish(IEnumerable`1 handlerExecutors, INotification notification, CancellationToken cancellationToken)\r\n   at Application.Orders.AddOrder.AddOrderCommandHandler.Handle(AddOrderCommand request, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\AddOrderCommand.cs:line 93\r\n   at WebApi.Endpoints.Orders.AddOrder.<>c.<<MapEndpoint>b__1_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Orders\\AddOrder.cs:line 32\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at WebApi.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Middlewares\\RequestLoggingMiddleware.cs:line 23","@tr":"f1cfa6d7dcca94f1c653d471ae0da8f3","@sp":"fec958e24c1d7d6d","Method":"POST","Path":"/api/v1/orders","ElapsedMilliseconds":16361,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"40000077-000b-fe00-b63f-84710c7967bb","RequestPath":"/api/v1/orders","CorrelationId":"40000077-000b-fe00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:56:35.6171742Z","@mt":"An unhandled exception has occurred while executing the request.","@l":"Error","@x":"System.Net.Http.HttpRequestException: Response status code does not indicate success: 400 (Bad Request).\r\n   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()\r\n   at Infrastructure.Payment.PaymentOrderManager.CreateAsync(PaymentAuthToken token, Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentOrderManager.cs:line 32\r\n   at Infrastructure.Payment.PaymentProvider.CreateAsync(Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentProvider.cs:line 19\r\n   at Application.Orders.AddOrder.OrderAddedNotificationHandler.Handle(OrderAddedNotification notification, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\OrderAddedNotification.cs:line 23\r\n   at MediatR.NotificationPublishers.ForeachAwaitPublisher.Publish(IEnumerable`1 handlerExecutors, INotification notification, CancellationToken cancellationToken)\r\n   at Application.Orders.AddOrder.AddOrderCommandHandler.Handle(AddOrderCommand request, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\AddOrderCommand.cs:line 93\r\n   at WebApi.Endpoints.Orders.AddOrder.<>c.<<MapEndpoint>b__1_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Orders\\AddOrder.cs:line 32\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at WebApi.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Middlewares\\RequestLoggingMiddleware.cs:line 23\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","@tr":"f1cfa6d7dcca94f1c653d471ae0da8f3","@sp":"fec958e24c1d7d6d","EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"40000077-000b-fe00-b63f-84710c7967bb","RequestPath":"/api/v1/orders"}
{"@t":"2024-08-31T08:56:41.9303466Z","@mt":"Handling request: {Method} {Path}","@tr":"16daa41e94ed24d5b46a610aa1207f69","@sp":"afc972b2a81bcf60","Method":"POST","Path":"/api/v1/orders","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"40000078-000b-fe00-b63f-84710c7967bb","RequestPath":"/api/v1/orders","CorrelationId":"40000078-000b-fe00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:58:38.4235944Z","@mt":"Handling request: {Method} {Path}","@tr":"735c0b31276caec0ed7329cc8c192e62","@sp":"af9b4913c79b58d0","Method":"POST","Path":"/api/v1/orders","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"40000143-0004-fe00-b63f-84710c7967bb","RequestPath":"/api/v1/orders","CorrelationId":"40000143-0004-fe00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:59:45.0308104Z","@mt":"Handling request: {Method} {Path}","@tr":"2aa06d305b57330627a49169128cb79d","@sp":"55e6d42c86ae5d5b","Method":"POST","Path":"/api/v1/orders","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000c5-0003-ff00-b63f-84710c7967bb","RequestPath":"/api/v1/orders","CorrelationId":"400000c5-0003-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:59:53.8686180Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["8811.5385"],"@l":"Error","@x":"System.Net.Http.HttpRequestException: Response status code does not indicate success: 400 (Bad Request).\r\n   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()\r\n   at Infrastructure.Payment.PaymentOrderManager.CreateAsync(PaymentAuthToken token, Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentOrderManager.cs:line 32\r\n   at Infrastructure.Payment.PaymentProvider.CreateAsync(Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentProvider.cs:line 19\r\n   at Application.Orders.AddOrder.OrderAddedNotificationHandler.Handle(OrderAddedNotification notification, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\OrderAddedNotification.cs:line 23\r\n   at MediatR.NotificationPublishers.ForeachAwaitPublisher.Publish(IEnumerable`1 handlerExecutors, INotification notification, CancellationToken cancellationToken)\r\n   at Application.Orders.AddOrder.AddOrderCommandHandler.Handle(AddOrderCommand request, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\AddOrderCommand.cs:line 93\r\n   at WebApi.Endpoints.Orders.AddOrder.<>c.<<MapEndpoint>b__1_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Orders\\AddOrder.cs:line 32\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","@tr":"2aa06d305b57330627a49169128cb79d","@sp":"55e6d42c86ae5d5b","RequestMethod":"POST","RequestPath":"/api/v1/orders","StatusCode":500,"Elapsed":8811.5385,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"400000c5-0003-ff00-b63f-84710c7967bb","RequestId":"400000c5-0003-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:59:53.9201498Z","@mt":"Request failed: {Method} {Path} in {ElapsedMilliseconds} ms","@l":"Error","@x":"System.Net.Http.HttpRequestException: Response status code does not indicate success: 400 (Bad Request).\r\n   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()\r\n   at Infrastructure.Payment.PaymentOrderManager.CreateAsync(PaymentAuthToken token, Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentOrderManager.cs:line 32\r\n   at Infrastructure.Payment.PaymentProvider.CreateAsync(Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentProvider.cs:line 19\r\n   at Application.Orders.AddOrder.OrderAddedNotificationHandler.Handle(OrderAddedNotification notification, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\OrderAddedNotification.cs:line 23\r\n   at MediatR.NotificationPublishers.ForeachAwaitPublisher.Publish(IEnumerable`1 handlerExecutors, INotification notification, CancellationToken cancellationToken)\r\n   at Application.Orders.AddOrder.AddOrderCommandHandler.Handle(AddOrderCommand request, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\AddOrderCommand.cs:line 93\r\n   at WebApi.Endpoints.Orders.AddOrder.<>c.<<MapEndpoint>b__1_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Orders\\AddOrder.cs:line 32\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at WebApi.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Middlewares\\RequestLoggingMiddleware.cs:line 23","@tr":"2aa06d305b57330627a49169128cb79d","@sp":"55e6d42c86ae5d5b","Method":"POST","Path":"/api/v1/orders","ElapsedMilliseconds":8891,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000c5-0003-ff00-b63f-84710c7967bb","RequestPath":"/api/v1/orders","CorrelationId":"400000c5-0003-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T08:59:53.9522098Z","@mt":"An unhandled exception has occurred while executing the request.","@l":"Error","@x":"System.Net.Http.HttpRequestException: Response status code does not indicate success: 400 (Bad Request).\r\n   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()\r\n   at Infrastructure.Payment.PaymentOrderManager.CreateAsync(PaymentAuthToken token, Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentOrderManager.cs:line 32\r\n   at Infrastructure.Payment.PaymentProvider.CreateAsync(Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentProvider.cs:line 19\r\n   at Application.Orders.AddOrder.OrderAddedNotificationHandler.Handle(OrderAddedNotification notification, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\OrderAddedNotification.cs:line 23\r\n   at MediatR.NotificationPublishers.ForeachAwaitPublisher.Publish(IEnumerable`1 handlerExecutors, INotification notification, CancellationToken cancellationToken)\r\n   at Application.Orders.AddOrder.AddOrderCommandHandler.Handle(AddOrderCommand request, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\AddOrderCommand.cs:line 93\r\n   at WebApi.Endpoints.Orders.AddOrder.<>c.<<MapEndpoint>b__1_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Orders\\AddOrder.cs:line 32\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at WebApi.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Middlewares\\RequestLoggingMiddleware.cs:line 23\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","@tr":"2aa06d305b57330627a49169128cb79d","@sp":"55e6d42c86ae5d5b","EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"400000c5-0003-ff00-b63f-84710c7967bb","RequestPath":"/api/v1/orders"}
{"@t":"2024-08-31T09:00:45.3657666Z","@mt":"Handling request: {Method} {Path}","@tr":"91eaeddbdf87d4294c3e48c3a91204a0","@sp":"3e6b078da5991114","Method":"POST","Path":"/api/v1/orders","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000cc-000d-fd00-b63f-84710c7967bb","RequestPath":"/api/v1/orders","CorrelationId":"400000cc-000d-fd00-b63f-84710c7967bb"}
{"@t":"2024-08-31T09:01:42.5662958Z","@mt":"Handling request: {Method} {Path}","@tr":"c1b751574871a2b2241b465d9e1c7814","@sp":"0ea38b239ea41324","Method":"POST","Path":"/api/v1/orders","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"4000010d-0002-ff00-b63f-84710c7967bb","RequestPath":"/api/v1/orders","CorrelationId":"4000010d-0002-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T09:01:51.6727044Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["9080.8634"],"@l":"Error","@x":"System.Net.Http.HttpRequestException: Response status code does not indicate success: 400 (Bad Request).\r\n   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()\r\n   at Infrastructure.Payment.PaymentKeyProvider.GetAsync(PaymentOrderId orderId, PaymentAuthToken token, Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentKeyProvider.cs:line 48\r\n   at Infrastructure.Payment.PaymentProvider.CreateAsync(Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentProvider.cs:line 21\r\n   at Application.Orders.AddOrder.OrderAddedNotificationHandler.Handle(OrderAddedNotification notification, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\OrderAddedNotification.cs:line 23\r\n   at MediatR.NotificationPublishers.ForeachAwaitPublisher.Publish(IEnumerable`1 handlerExecutors, INotification notification, CancellationToken cancellationToken)\r\n   at Application.Orders.AddOrder.AddOrderCommandHandler.Handle(AddOrderCommand request, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\AddOrderCommand.cs:line 93\r\n   at WebApi.Endpoints.Orders.AddOrder.<>c.<<MapEndpoint>b__1_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Orders\\AddOrder.cs:line 32\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)","@tr":"c1b751574871a2b2241b465d9e1c7814","@sp":"0ea38b239ea41324","RequestMethod":"POST","RequestPath":"/api/v1/orders","StatusCode":500,"Elapsed":9080.8634,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"4000010d-0002-ff00-b63f-84710c7967bb","RequestId":"4000010d-0002-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T09:01:51.7178188Z","@mt":"Request failed: {Method} {Path} in {ElapsedMilliseconds} ms","@l":"Error","@x":"System.Net.Http.HttpRequestException: Response status code does not indicate success: 400 (Bad Request).\r\n   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()\r\n   at Infrastructure.Payment.PaymentKeyProvider.GetAsync(PaymentOrderId orderId, PaymentAuthToken token, Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentKeyProvider.cs:line 48\r\n   at Infrastructure.Payment.PaymentProvider.CreateAsync(Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentProvider.cs:line 21\r\n   at Application.Orders.AddOrder.OrderAddedNotificationHandler.Handle(OrderAddedNotification notification, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\OrderAddedNotification.cs:line 23\r\n   at MediatR.NotificationPublishers.ForeachAwaitPublisher.Publish(IEnumerable`1 handlerExecutors, INotification notification, CancellationToken cancellationToken)\r\n   at Application.Orders.AddOrder.AddOrderCommandHandler.Handle(AddOrderCommand request, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\AddOrderCommand.cs:line 93\r\n   at WebApi.Endpoints.Orders.AddOrder.<>c.<<MapEndpoint>b__1_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Orders\\AddOrder.cs:line 32\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at WebApi.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Middlewares\\RequestLoggingMiddleware.cs:line 23","@tr":"c1b751574871a2b2241b465d9e1c7814","@sp":"0ea38b239ea41324","Method":"POST","Path":"/api/v1/orders","ElapsedMilliseconds":9154,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"4000010d-0002-ff00-b63f-84710c7967bb","RequestPath":"/api/v1/orders","CorrelationId":"4000010d-0002-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T09:01:51.7457295Z","@mt":"An unhandled exception has occurred while executing the request.","@l":"Error","@x":"System.Net.Http.HttpRequestException: Response status code does not indicate success: 400 (Bad Request).\r\n   at System.Net.Http.HttpResponseMessage.EnsureSuccessStatusCode()\r\n   at Infrastructure.Payment.PaymentKeyProvider.GetAsync(PaymentOrderId orderId, PaymentAuthToken token, Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentKeyProvider.cs:line 48\r\n   at Infrastructure.Payment.PaymentProvider.CreateAsync(Order order) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Infrastructure\\Payment\\PaymentProvider.cs:line 21\r\n   at Application.Orders.AddOrder.OrderAddedNotificationHandler.Handle(OrderAddedNotification notification, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\OrderAddedNotification.cs:line 23\r\n   at MediatR.NotificationPublishers.ForeachAwaitPublisher.Publish(IEnumerable`1 handlerExecutors, INotification notification, CancellationToken cancellationToken)\r\n   at Application.Orders.AddOrder.AddOrderCommandHandler.Handle(AddOrderCommand request, CancellationToken cancellationToken) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\Application\\Orders\\AddOrder\\AddOrderCommand.cs:line 93\r\n   at WebApi.Endpoints.Orders.AddOrder.<>c.<<MapEndpoint>b__1_0>d.MoveNext() in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Endpoints\\Orders\\AddOrder.cs:line 32\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)\r\n   at WebApi.Middlewares.RequestLoggingMiddleware.InvokeAsync(HttpContext context) in C:\\Users\\noure\\Desktop\\CodeSandbox\\Giftify\\WebApi\\Middlewares\\RequestLoggingMiddleware.cs:line 23\r\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\r\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","@tr":"c1b751574871a2b2241b465d9e1c7814","@sp":"0ea38b239ea41324","EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"4000010d-0002-ff00-b63f-84710c7967bb","RequestPath":"/api/v1/orders"}
{"@t":"2024-08-31T09:02:32.1136409Z","@mt":"Handling request: {Method} {Path}","@tr":"c820e9d22dac97ccff420201f0e3988f","@sp":"1b6e8832060bdf39","Method":"POST","Path":"/api/v1/orders","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000ee-0006-fd00-b63f-84710c7967bb","RequestPath":"/api/v1/orders","CorrelationId":"400000ee-0006-fd00-b63f-84710c7967bb"}
{"@t":"2024-08-31T09:02:42.4653195Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["10325.6139"],"@tr":"c820e9d22dac97ccff420201f0e3988f","@sp":"1b6e8832060bdf39","RequestMethod":"POST","RequestPath":"/api/v1/orders","StatusCode":200,"Elapsed":10325.6139,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"400000ee-0006-fd00-b63f-84710c7967bb","RequestId":"400000ee-0006-fd00-b63f-84710c7967bb"}
{"@t":"2024-08-31T09:02:42.4678257Z","@mt":"Request succeeded: {Method} {Path} in {ElapsedMilliseconds} ms","@tr":"c820e9d22dac97ccff420201f0e3988f","@sp":"1b6e8832060bdf39","Method":"POST","Path":"/api/v1/orders","ElapsedMilliseconds":10357,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"400000ee-0006-fd00-b63f-84710c7967bb","RequestPath":"/api/v1/orders","CorrelationId":"400000ee-0006-fd00-b63f-84710c7967bb"}
{"@t":"2024-08-31T09:08:00.5097464Z","@mt":"Handling request: {Method} {Path}","@tr":"b1c95d4ab48a71475df1bf9086b1bc62","@sp":"dcb04bf6229f5795","Method":"GET","Path":"/api/v1/orders","SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"40000100-000b-ff00-b63f-84710c7967bb","RequestPath":"/api/v1/orders","CorrelationId":"40000100-000b-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T09:08:01.9513134Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["1413.6886"],"@tr":"b1c95d4ab48a71475df1bf9086b1bc62","@sp":"dcb04bf6229f5795","RequestMethod":"GET","RequestPath":"/api/v1/orders","StatusCode":200,"Elapsed":1413.6886,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","CorrelationId":"40000100-000b-ff00-b63f-84710c7967bb","RequestId":"40000100-000b-ff00-b63f-84710c7967bb"}
{"@t":"2024-08-31T09:08:01.9542650Z","@mt":"Request succeeded: {Method} {Path} in {ElapsedMilliseconds} ms","@tr":"b1c95d4ab48a71475df1bf9086b1bc62","@sp":"dcb04bf6229f5795","Method":"GET","Path":"/api/v1/orders","ElapsedMilliseconds":1448,"SourceContext":"WebApi.Middlewares.RequestLoggingMiddleware","RequestId":"40000100-000b-ff00-b63f-84710c7967bb","RequestPath":"/api/v1/orders","CorrelationId":"40000100-000b-ff00-b63f-84710c7967bb"}
